/*! For license information please see Vanillanote.1.0.0.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Vanillanote=t():e.Vanillanote=t()}(this,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,o){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(){return new function(){this.consts={START_POSSIBLE_TAG:["P","H1","H2","H3","H4","H5","H6","OL","UL","BR","DIV","PRE","BLOCKQUOTE","TABLE"],UNIT_TAG:["P","H1","H2","H3","H4","H5","H6","LI","DIV","PRE","BLOCKQUOTE","TH","TD"],DOUBLE_TAG:["UL","OL"],NOT_SINGLE_TAG:["P","H1","H2","H3","H4","H5","H6","OL","UL","LI","DIV","PRE","BLOCKQUOTE"],SPECIAL_TAG:["A","IMG","IFRAME"],AUTO_MODIFY_TAG:["B","U"],EMPTY_ABLE_TAG:["BR","IMG","IFRAME","INPUT","I"],KEYS:{template:{id:"template",className:"template"},textarea:{id:"textarea",className:"textarea"},tool:{id:"tool",className:"tool"},toolToggleButton:{id:"toolToggleButton",className:"button"},paragraphStyleSelect:{id:"paragraphStyleSelect",className:"select"},paragraphStyleSelectBox:{id:"paragraphStyleSelectBox",className:"select_box_a"},styleNomal:{id:"styleNomal",className:"select_list"},styleHeader1:{id:"styleHeader1",className:"select_list"},styleHeader2:{id:"styleHeader2",className:"select_list"},styleHeader3:{id:"styleHeader3",className:"select_list"},styleHeader4:{id:"styleHeader4",className:"select_list"},styleHeader5:{id:"styleHeader5",className:"select_list"},styleHeader6:{id:"styleHeader6",className:"select_list"},boldButton:{id:"boldButton",className:"button"},underlineButton:{id:"underlineButton",className:"button"},italicButton:{id:"italicButton",className:"button"},ulButton:{id:"ulButton",className:"button"},olButton:{id:"olButton",className:"button"},textAlignSelect:{id:"textAlignSelect",className:"button"},textAlignSelectBox:{id:"textAlignSelectBox",className:"select_box_b"},textAlignLeft:{id:"textAlignLeft",className:"select_list_button"},textAlignCenter:{id:"textAlignCenter",className:"select_list_button"},textAlignRight:{id:"textAlignRight",className:"select_list_button"},attLinkButton:{id:"attLinkButton",className:"button"},attFileButton:{id:"attFileButton",className:"button"},attImageButton:{id:"attImageButton",className:"button"},attVideoButton:{id:"attVideoButton",className:"button"},fontSizeInputBox:{id:"fontSizeInputBox",className:"small_input_box"},fontSizeInput:{id:"fontSizeInput",className:"small_input"},letterSpacingInputBox:{id:"letterSpacingInputBox",className:"small_input_box"},letterSpacingInput:{id:"letterSpacingInput",className:"small_input"},lineHeightInputBox:{id:"lineHeightInputBox",className:"small_input_box"},lineHeightInput:{id:"lineHeightInput",className:"small_input"},fontFamilySelect:{id:"fontFamilySelect",className:"select"},fontFamilySelectBox:{id:"fontFamilySelectBox",className:"select_box_a"},fontFamily:{id:"fontFamily_",className:"select_list"},colorTextSelect:{id:"colorTextSelect",className:"button"},colorTextSelectBox:{id:"colorTextSelectBox",className:"select_box_c"},colorText0:{id:"colorText0",className:"color_button"},colorText1:{id:"colorText1",className:"color_button"},colorText2:{id:"colorText2",className:"color_button"},colorText3:{id:"colorText3",className:"color_button"},colorText4:{id:"colorText4",className:"color_button"},colorText5:{id:"colorText5",className:"color_button"},colorText6:{id:"colorText6",className:"color_button"},colorText7:{id:"colorText7",className:"color_button"},colorTextRInput:{id:"colorTextRInput",className:"color_input"},colorTextRExplain:{id:"colorTextRExplain",className:"color_explain"},colorTextGInput:{id:"colorTextGInput",className:"color_input"},colorTextGExplain:{id:"colorTextGExplain",className:"color_explain"},colorTextBInput:{id:"colorTextBInput",className:"color_input"},colorTextBExplain:{id:"colorTextBExplain",className:"color_explain"},colorTextOpacityInput:{id:"colorTextOpacityInput",className:"color_input"},colorTextOpacityExplain:{id:"colorTextOpacityExplain",className:"color_explain"},colorBackSelect:{id:"colorBackSelect",className:"button"},colorBackSelectBox:{id:"colorTextSelectBox",className:"select_box_c"},colorBack0:{id:"colorBack0",className:"color_button"},colorBack1:{id:"colorBack1",className:"color_button"},colorBack2:{id:"colorBack2",className:"color_button"},colorBack3:{id:"colorBack3",className:"color_button"},colorBack4:{id:"colorBack4",className:"color_button"},colorBack5:{id:"colorBack5",className:"color_button"},colorBack6:{id:"colorBack6",className:"color_button"},colorBack7:{id:"colorBack7",className:"color_button"},colorBackRInput:{id:"colorBackRInput",className:"color_input"},colorBackRExplain:{id:"colorBackRExplain",className:"color_explain"},colorBackGInput:{id:"colorBackGInput",className:"color_input"},colorBackGExplain:{id:"colorBackGExplain",className:"color_explain"},colorBackBInput:{id:"colorBackBInput",className:"color_input"},colorBackBExplain:{id:"colorBackBExplain",className:"color_explain"},colorBackOpacityInput:{id:"colorBackOpacityInput",className:"color_input"},colorBackOpacityExplain:{id:"colorBackOpacityExplain",className:"color_explain"},formatClearButton:{id:"formatClearButton",className:"button"},undoButton:{id:"undoButton",className:"button"},redoButton:{id:"redoButton",className:"button"},helpButton:{id:"helpButton",className:"button"},modalBack:{id:"modalBack",className:"modal_back"},attLinkModal:{id:"attLinkModal",className:"modal_body"},attLinkHeader:{id:"attLinkHeader",className:"modal_header"},attLinkFooter:{id:"attLinkFooter",className:"modal_footer"},attLinkExplain1:{id:"attLinkExplain1",className:"modal_explain"},attLinkText:{id:"attLinkText",className:"modal_input"},attLinkExplain2:{id:"attLinkExplain2",className:"modal_explain"},attLinkHref:{id:"attLinkHref",className:"modal_input"},attLinkIsBlankLabel:{id:"attLinkIsBlankLabel",className:"att_link_is_blank_label"},attLinkIsBlankCheckbox:{id:"attLinkIsBlankCheckbox",className:"input_checkbox"},attLinkValidCheckText:{id:"attLinkValidChecktext",className:"att_valid_checktext"},attLinkValidCheckbox:{id:"attLinkValidCheckbox",className:"input_checkbox"},attLinkInsertButton:{id:"attLinkInsertButton",className:"normal_button"},attLinkTooltip:{id:"attLinkTooltip",className:"tooltip"},attLinkTooltipHref:{id:"attLinkTooltipHref",className:"att_link_tooltip_href"},attLinkTooltipEditButton:{id:"attLinkTooltipEditButton",className:"tooltip_button"},attLinkTooltipUnlinkButton:{id:"attLinkTooltipUnlinkButton",className:"tooltip_button"},attFileModal:{id:"attFileModal",className:"modal_body"},attFileHeader:{id:"attFileHeader",className:"modal_header"},attFilelayout:{id:"attFilelayout",className:"modal_layout"},attFileExplain1:{id:"attFileExplain1",className:"modal_explain"},attFileUploadButton:{id:"attFileUploadButton",className:"normal_button"},attFileUploadDiv:{id:"attFileUploadDiv",className:"drag_drop_div"},attFileUpload:{id:"attFileUpload",className:"modal_input_file"},attFileInsertButton:{id:"attFileInsertButton",className:"normal_button"},attFileFooter:{id:"attFileFooter",className:"modal_footer"},attImageModal:{id:"attImageModal",className:"modal_body"},attImageHeader:{id:"attImageHeader",className:"modal_header"},attImageExplain1:{id:"attImageExplain1",className:"modal_explain"},attImageExplain2:{id:"attImageExplain2",className:"modal_explain"},attImageUploadButtonAndView:{id:"attImageUploadButtonAndView",className:"image_view_div"},attImageViewPreButtion:{id:"attImageViewPreButtion",className:"opacity_button"},attImageViewNextButtion:{id:"attImageViewNextButtion",className:"opacity_button"},attImageUpload:{id:"attImageUpload",className:"modal_input_file"},attImageURL:{id:"attImageURL",className:"modal_input"},attImageInsertButton:{id:"attImageInsertButton",className:"normal_button"},attImageFooter:{id:"attImageFooter",className:"modal_footer"},attVideoModal:{id:"attVideoModal",className:"modal_body"},attVideoHeader:{id:"attVideoHeader",className:"modal_header"},attVideoExplain1:{id:"attVideoExplain1",className:"modal_explain"},attVideoEmbedId:{id:"attVideoEmbedId",className:"modal_input"},attVideoExplain2:{id:"attVideoExplain2",className:"modal_explain"},attVideoWidth:{id:"attVideoWidth",className:"modal_small_input"},attVideoHeight:{id:"attVideoHeight",className:"modal_small_input"},attVideoValidCheckText:{id:"attVideoValidCheckText",className:"att_valid_checktext"},attVideoValidCheckbox:{id:"attVideoValidCheckbox",className:"input_checkbox"},attVideoInsertButton:{id:"attVideoInsertButton",className:"normal_button"},attVideoFooter:{id:"attVideoFooter",className:"modal_footer"},attImageAndVideoTooltip:{id:"attImageAndVideoTooltip",className:"tooltip"},attImageAndVideoTooltipWidthInput:{id:"attImageAndVideoTooltipWidthInput",className:"smallpx_input"},attImageAndVideoTooltipFloatRadioNone:{id:"attImageAndVideoTooltipFloatRadioNone",className:"input_radio"},attImageAndVideoTooltipFloatRadioLeft:{id:"attImageAndVideoTooltipFloatRadioLeft",className:"input_radio"},attImageAndVideoTooltipFloatRadioRight:{id:"attImageAndVideoTooltipFloatRadioRight",className:"input_radio"},attImageAndVideoTooltipShapeRadioSquare:{id:"attImageAndVideoTooltipShapeRadioSquare",className:"input_radio"},attImageAndVideoTooltipShapeRadioRadius:{id:"attImageAndVideoTooltipShapeRadioRadius",className:"input_radio"},attImageAndVideoTooltipShapeRadioCircle:{id:"attImageAndVideoTooltipShapeRadioCircle",className:"input_radio"},helpModal:{id:"helpModal",className:"modal_body"},helpMain:{id:"helpMain",className:"help_main"},helpHeader:{id:"helpHeader",className:"modal_header"},helpFooter:{id:"helpFooter",className:"modal_footer"},placeholder:{id:"placeholder",className:"placeholder"}}},this.csses={"template h1":[],"template h2":[],"template h3":[],"template h4":[],"template h5":[],"template h6":[],"textarea ul":[],"textarea ol":[],"textarea li":[],"textarea p":[],"textarea div":[],"textarea span":[],"textarea a":[],template:[],textarea:[],tool:[],icon:[],button:[],select:[],select_box_a:[],select_box_b:[],select_box_c:[],select_list:[],select_list_button:[],small_input_box:[],small_input:[],"small_input:focus":[],"small_input::-webkit-inner-spin-button":[],"small_input::-webkit-outer-spin-button":[],"small_input[type=number]":[],normal_button:[],opacity_button:[],small_text_box:[],modal_back:[],modal_body:[],modal_header:[],modal_footer:[],modal_explain:[],modal_input:[],"modal_input:focus":[],"modal_input[readonly]":[],modal_small_input:[],"modal_small_input:focus":[],"modal_small_input::-webkit-inner-spin-button":[],"modal_small_input::-webkit-outer-spin-button":[],"modal_small_input[type=number]":[],"modal_small_input[readonly]":[],att_link_is_blank_label:[],att_valid_checktext:[],input_checkbox:[],"input_checkbox:focus":[],"input_checkbox[disabled]":[],smallpx_input:[],"smallpx_input:focus":[],"smallpx_input::-webkit-inner-spin-button":[],input_radio:[],"input_radio:focus":[],"input_radio:checked":[],"input_radio[disabled]":[],modal_input_file:[],drag_drop_div:[],image_view_div:[],color_button:[],color_input:[],"color_input:focus":[],"color_input::-webkit-inner-spin-button":[],color_explain:[],tooltip:[],tooltip_button:[],att_link_tooltip_href:[],help_main:[],placeholder:[],on_button_on:[],on_active:[],on_mouseover:[],on_mouseout:[],on_display_inline:[],on_display_inline_block:[],on_display_block:[],on_display_none:[]},this.keyframes={"@keyframes vanillanote-modal-input":"@keyframes vanillanote-modal-input {0%{width: 30%;}100%{width: 80%;}}\n","@keyframes vanillanote-modal-small-input":"@keyframes vanillanote-modal-small-input {0%{width: 0%;}100%{width: 20%;}}\n"},this.colors={color1:[],color2:[],color3:[],color4:[],color5:[],color6:[],color7:[],color8:[],color9:[],color10:[],color11:[],color12:[],color13:[],color14:[],color15:[],color16:[],color17:[],color18:[],color19:[],color20:[]},this.elements={notes:[],templates:[],tools:[],textareas:[],toolToggleButtons:[],paragraphStyleSelects:[],paragraphStyleSelectBoxes:[],boldButtons:[],underlineButtons:[],italicButtons:[],ulButtons:[],olButtons:[],textAlignSelects:[],textAlignSelectBoxes:[],attLinkButtons:[],attFileButtons:[],attImageButtons:[],attVideoButtons:[],fontSizeInputBoxes:[],fontSizeInputs:[],letterSpacingInputBoxes:[],letterSpacingInputs:[],lineHeightInputBoxes:[],lineHeightInputs:[],fontFamilySelects:[],fontFamilySelectBoxes:[],colorTextSelects:[],colorTextSelectBoxes:[],colorText0s:[],colorText1s:[],colorText2s:[],colorText3s:[],colorText4s:[],colorText5s:[],colorText6s:[],colorText7s:[],colorTextRInputs:[],colorTextGInputs:[],colorTextBInputs:[],colorTextOpacityInputs:[],colorBackSelects:[],colorBackSelectBoxes:[],colorBack0s:[],colorBack1s:[],colorBack2s:[],colorBack3s:[],colorBack4s:[],colorBack5s:[],colorBack6s:[],colorBack7s:[],colorBackRInputs:[],colorBackGInputs:[],colorBackBInputs:[],colorBackOpacityInputs:[],formatClearButtons:[],undoButtons:[],redoButtons:[],helpButtons:[],backModals:[],attLinkModals:[],attLinkHrefs:[],attLinkTexts:[],attLinkIsBlankCheckboxes:[],attLinkValidCheckboxes:[],attLinkValidCheckTexts:[],attLinkInsertButtons:[],attFileModals:[],attFilelayouts:[],attFileUploadDivs:[],attFileUploadButtons:[],attFileUploads:[],attFileInsertButtons:[],attLinkTooltips:[],attLinkTooltipHrefs:[],attLinkTooltipEditButtons:[],attLinkTooltipUnlinkButtons:[],attImageModals:[],attImageUploadButtonAndViews:[],attImageUploads:[],attImageURLs:[],attImageInsertButtons:[],attImageViewPreButtions:[],attImageViewNextButtions:[],attVideoModals:[],attVideoEmbedIds:[],attVideoWidthes:[],attVideoHeights:[],attVideoValidCheckTexts:[],attVideoValidCheckboxes:[],attVideoInsertButtons:[],attImageAndVideoTooltips:[],attImageAndVideoTooltipWidthInputs:[],attImageAndVideoTooltipFloatRadioNones:[],attImageAndVideoTooltipFloatRadioLefts:[],attImageAndVideoTooltipFloatRadioRights:[],attImageAndVideoTooltipShapeRadioSquares:[],attImageAndVideoTooltipShapeRadioRadiuses:[],attImageAndVideoTooltipShapeRadioCircles:[],helpModals:[],placeholders:[]},this.variables={noteName:"vanillanote",isCreated:!1,logMode:"ERROR",observerOptions:{characterData:!0,childList:!0,subtree:!0},useMobileActiveMode:[],lastActiveNote:0,recodeNotes:[],recodeContings:[],recodeLimit:[],lastScreenHeight:window.visualViewport?window.visualViewport.height:null,mobileKeyboardExceptHeight:null,isSelectionProgress:!1,preventChangeScroll:0,resizeInterval:50,inputInterval:50,loadInterval:100,canEvents:!0,toolPositions:[],toolDefaultLines:[],textareaOriginWidths:[],textareaOriginHeights:[],placeholderIsVisible:[],placeholderAddTop:[],placeholderAddLeft:[],placeholderWidth:[],isIOS:/iPhone|iPad|iPod/i.test(navigator.userAgent),editSelections:[],editRanges:[],startOffsets:[],endOffsets:[],editStartNodes:[],editEndNodes:[],editStartElements:[],editEndElements:[],editStartUnitElements:[],editEndUnitElements:[],editDragUnitElements:[],setEditStyleTagToggle:0,toolToggles:[],boldToggles:[],underlineToggles:[],italicToggles:[],ulToggles:[],olToggles:[],fontSizes:[],letterSpacings:[],lineHeights:[],fontFamilies:[],colorTextRs:[],colorTextGs:[],colorTextBs:[],colorTextOs:[],colorTextRGBs:[],colorTextOpacitys:[],colorBackRs:[],colorBackGs:[],colorBackBs:[],colorBackOs:[],colorBackRGBs:[],colorBackOpacitys:[],openedModals:[],attFilePreventTypes:[],attFileAcceptTypes:[],attFileMaxSizes:[],attTempFiles:[],attFiles:[],attImagePreventTypes:[],attImageAcceptTypes:[],attImageMaxSizes:[],attTempImages:[],attImages:[],sizeRates:[],defaultStyles:[],languages:[]},this.languageSet={ENG:{textareaTooltip:"HELLO VANILLANOTE!",thanks:"Thank you!",styleTooltip:"Please let me know your style.",boldTooltip:"This is a bold button.",underlineTooltip:"This is a under line button.",italicTooltip:"This is a italic button.",ulTooltip:"This is a ul button.",olTooltip:"This is a ol button.",textAlignTooltip:"Select your text align.",attLinkTooltip:"This is a attach link button.",attFileTooltip:"This is a attach file button.",attImageTooltip:"This is a attach image button.",attVideoTooltip:"This is a attach video button.",fontSizeTooltip:"Please let me know the font size.",letterSpacingTooltip:"Please let me know the letter spacing.",lineHeightTooltip:"Please let me know the line height.",fontFamilyTooltip:"Please let me know your font family.",colorTextTooltip:"This is a text color button.",colorBackTooltip:"This is a background color button.",formatClearButtonTooltip:"clear your format.",undoTooltip:"undo",redoTooltip:"redo",helpTooltip:"What can i help you.",attLinkModalTitle:"INSERT LINK",attLinkInTextExplain:"Text to display",attLinkInLinkExplain:"To what URL should this link go?",attLinkIsOpenExplain:"   Open in new window",attLinkInTextTooltip:"Please let me know the text.",attLinkInLinkTooltip:"Please let me know the link.",attLinkIsOpenTooltip:"Does it open in a new window?",attFileModalTitle:"INSERT FILE",attFileExplain1:"Please upload your file",attFileUploadButton:"file upload",attFileUploadDiv:"drop your files!",attFileListTooltip:"remove",attImageModalTitle:"INSERT IMAGE",attImageUploadButtonAndView:"Image upload",attImageExplain1:"Please upload your image",attImageExplain2:"URL",attImageURLTooltip:"Please let me know the URL.",attOverSize:"The file exceeds the allowed size.",attPreventType:"The file is not of an allowed type.",attVideoModalTitle:"INSERT YOUTUBE",attVideoExplain1:"Youtube Embed Id",attVideoExplain2:"Check your size",attVideoEmbedIdTooltip:"Please let me know the embed id.",attVideoWidthTooltip:"Please let me know the width percent.",attVideoHeightTooltip:"Please let me know the height pixel.",attImageAndVideoTooltipWidthInput:"width",attImageAndVideoTooltipFloatRadio:"float",attImageAndVideoTooltipShapeRadio:"Shape",helpModalTitle:"Help",helpContent:[{"ctrl + z":"Undo the last command"},{"ctrl + y":"Redo the last command"},{"ctrl + b":"Set a bold style"},{"ctrl + u":"Set a underline style"},{"ctrl + i":"Set a italic style"},{enter:"Add new line as new block"},{"shift + enter":"Add new line in now block"},{etc1:"On mobile, you can only change the style after dragging."},{etc2:"Uploading a video requires using the YouTube embed id."}]},KOR:{textareaTooltip:"",thanks:"감사합니다!",styleTooltip:"문단 스타일",boldTooltip:"굵게",underlineTooltip:"밑줄",italicTooltip:"기울게",ulTooltip:"목록",olTooltip:"번호 목록",textAlignTooltip:"수평 정렬",attLinkTooltip:"링크 첨부",attFileTooltip:"파일 첨부",attImageTooltip:"이미지 첨부",attVideoTooltip:"동영상 첨부",fontSizeTooltip:"글자 크기",letterSpacingTooltip:"자간",lineHeightTooltip:"수직 넓기",fontFamilyTooltip:"글씨체",colorTextTooltip:"글자 색상",colorBackTooltip:"배경 색상",formatClearButtonTooltip:"효과 제거",undoTooltip:"실행 취소",redoTooltip:"다시 실행",helpTooltip:"도움말",attLinkModalTitle:"링크 삽입",attLinkInTextExplain:"보여질 문장을 넣어주세요.",attLinkInLinkExplain:"이동할 링크를 넣어주세요.",attLinkIsOpenExplain:"   새창열기?",attLinkInTextTooltip:"문장을 넣어주세요.",attLinkInLinkTooltip:"링크를 넣어주세요.",attLinkIsOpenTooltip:"클릭 시 새로운 창에서 열립니다.",attFileModalTitle:"파일 삽입",attFileExplain1:"파일을 업로드 해주세요.",attFileUploadButton:"파일 선택",attFileUploadDiv:"파일을 떨궈 주세요.",attFileListTooltip:"삭제",attImageModalTitle:"이미지 삽입",attImageUploadButtonAndView:"이미지 선택",attImageExplain1:"이미지를 업로드 해주세요.",attImageExplain2:"URL",attImageURLTooltip:"URL을 지정 해주세요.",attOverSize:"파일은 허용 용량을 초과했습니다.",attPreventType:"파일은 허용된 유형이 아닙니다.",attVideoModalTitle:"유튜브 삽입",attVideoExplain1:"Youtube Embed Id",attVideoExplain2:"프레임 크기",attVideoEmbedIdTooltip:"유튜브 embed id를 알려주세요.",attVideoWidthTooltip:"%",attVideoHeightTooltip:"PX",attImageAndVideoTooltipWidthInput:"가로",attImageAndVideoTooltipFloatRadio:"띄우기",attImageAndVideoTooltipShapeRadio:"모양",helpModalTitle:"질문",helpContent:[{"ctrl + z":"실행취소"},{"ctrl + y":"다시실행"},{"ctrl + b":"굵게"},{"ctrl + u":"밑줄"},{"ctrl + i":"기울게"},{enter:"새로운 블럭에 새로운 라인은 추가합니다."},{"shift + enter":"기존 블럭에 새로운 라인을 추가합니다."},{etc1:"모바일에서는 드래그 후 스타일 적용만 가능합니다."},{etc2:"동영상 업로드는 YouTube embed id를 활용해야 합니다."}]}},this.elementEvents={textarea_onBeforeClick:function(e){return!0},textarea_onAfterClick:function(e){},textarea_onBeforeFocus:function(e){return!0},textarea_onAfterFocus:function(e){},textarea_onBeforeBlur:function(e){return!0},textarea_onAfterBlur:function(e){},paragraphStyleSelect_onBeforeClick:function(e){return!0},paragraphStyleSelect_onAfterClick:function(e){},toolToggleButton_onBeforeClick:function(e){return!0},toolToggleButton_onAfterClick:function(e){},styleNomal_onBeforeClick:function(e){return!0},styleNomal_onAfterClick:function(e){},styleHeader1_onBeforeClick:function(e){return!0},styleHeader1_onAfterClick:function(e){},styleHeader2_onBeforeClick:function(e){return!0},styleHeader2_onAfterClick:function(e){},styleHeader3_onBeforeClick:function(e){return!0},styleHeader3_onAfterClick:function(e){},styleHeader4_onBeforeClick:function(e){return!0},styleHeader4_onAfterClick:function(e){},styleHeader5_onBeforeClick:function(e){return!0},styleHeader5_onAfterClick:function(e){},styleHeader6_onBeforeClick:function(e){return!0},styleHeader6_onAfterClick:function(e){},boldButton_onBeforeClick:function(e){return!0},boldButton_onAfterClick:function(e){},underlineButton_onBeforeClick:function(e){return!0},underlineButton_onAfterClick:function(e){},italicButton_onBeforeClick:function(e){return!0},italicButton_onAfterClick:function(e){},ulButton_onBeforeClick:function(e){return!0},ulButton_onAfterClick:function(e){},olButton_onBeforeClick:function(e){return!0},olButton_onAfterClick:function(e){},textAlignSelect_onBeforeClick:function(e){return!0},textAlignSelect_onAfterClick:function(e){},textAlignLeft_onBeforeClick:function(e){return!0},textAlignLeft_onAfterClick:function(e){},textAlignCenter_onBeforeClick:function(e){return!0},textAlignCenter_onAfterClick:function(e){},textAlignRight_onBeforeClick:function(e){return!0},textAlignRight_onAfterClick:function(e){},attLinkButton_onBeforeClick:function(e){return!0},attLinkButton_onAfterClick:function(e){},attFileButton_onBeforeClick:function(e){return!0},attFileButton_onAfterClick:function(e){},attImageButton_onBeforeClick:function(e){return!0},attImageButton_onAfterClick:function(e){},attVideoButton_onBeforeClick:function(e){return!0},attVideoButton_onAfterClick:function(e){},fontSizeInputBox_onBeforeClick:function(e){return!0},fontSizeInputBox_onAfterClick:function(e){},fontSizeInput_onBeforeClick:function(e){return!0},fontSizeInput_onAfterClick:function(e){},fontSizeInput_onBeforeInput:function(e){return!0},fontSizeInput_onAfterInput:function(e){},fontSizeInput_onBeforeBlur:function(e){return!0},fontSizeInput_onAfterBlur:function(e){},letterSpacingInputBox_onBeforeClick:function(e){return!0},letterSpacingInputBox_onAfterClick:function(e){},letterSpacingInput_onBeforeClick:function(e){return!0},letterSpacingInput_onAfterClick:function(e){},letterSpacingInput_onBeforeInput:function(e){return!0},letterSpacingInput_onAfterInput:function(e){},letterSpacingInput_onBeforeBlur:function(e){return!0},letterSpacingInput_onAfterBlur:function(e){},lineHeightInputBox_onBeforeClick:function(e){return!0},lineHeightInputBox_onAfterClick:function(e){},lineHeightInput_onBeforeClick:function(e){return!0},lineHeightInput_onAfterClick:function(e){},lineHeightInput_onBeforeInput:function(e){return!0},lineHeightInput_onAfterInput:function(e){},lineHeightInput_onBeforeBlur:function(e){return!0},lineHeightInput_onAfterBlur:function(e){},fontFamilySelect_onBeforeClick:function(e){return!0},fontFamilySelect_onAfterClick:function(e){},colorTextSelect_onBeforeClick:function(e){return!0},colorTextSelect_onAfterClick:function(e){},colorTextSelectBox_onBeforeClick:function(e){return!0},colorTextSelectBox_onAfterClick:function(e){},colorText0_onBeforeClick:function(e){return!0},colorText0_onAfterClick:function(e){},colorText1_onBeforeClick:function(e){return!0},colorText1_onAfterClick:function(e){},colorText2_onBeforeClick:function(e){return!0},colorText2_onAfterClick:function(e){},colorText3_onBeforeClick:function(e){return!0},colorText3_onAfterClick:function(e){},colorText4_onBeforeClick:function(e){return!0},colorText4_onAfterClick:function(e){},colorText5_onBeforeClick:function(e){return!0},colorText5_onAfterClick:function(e){},colorText6_onBeforeClick:function(e){return!0},colorText6_onAfterClick:function(e){},colorText7_onBeforeClick:function(e){return!0},colorText7_onAfterClick:function(e){},colorTextRInput_onBeforeClick:function(e){return!0},colorTextRInput_onAfterClick:function(e){},colorTextRInput_onBeforeInput:function(e){return!0},colorTextRInput_onAfterInput:function(e){},colorTextRInput_onBeforeBlur:function(e){return!0},colorTextRInput_onAfterBlur:function(e){},colorTextGInput_onBeforeClick:function(e){return!0},colorTextGInput_onAfterClick:function(e){},colorTextGInput_onBeforeInput:function(e){return!0},colorTextGInput_onAfterInput:function(e){},colorTextGInput_onBeforeBlur:function(e){return!0},colorTextGInput_onAfterBlur:function(e){},colorTextBInput_onBeforeClick:function(e){return!0},colorTextBInput_onAfterClick:function(e){},colorTextBInput_onBeforeInput:function(e){return!0},colorTextBInput_onAfterInput:function(e){},colorTextBInput_onBeforeBlur:function(e){return!0},colorTextBInput_onAfterBlur:function(e){},colorTextOpacityInput_onBeforeClick:function(e){return!0},colorTextOpacityInput_onAfterClick:function(e){},colorTextOpacityInput_onBeforeInput:function(e){return!0},colorTextOpacityInput_onAfterInput:function(e){},colorTextOpacityInput_onBeforeBlur:function(e){return!0},colorTextOpacityInput_onAfterBlur:function(e){},colorBackSelect_onBeforeClick:function(e){return!0},colorBackSelect_onAfterClick:function(e){},colorBackSelectBox_onBeforeClick:function(e){return!0},colorBackSelectBox_onAfterClick:function(e){},colorBack0_onBeforeClick:function(e){return!0},colorBack0_onAfterClick:function(e){},colorBack1_onBeforeClick:function(e){return!0},colorBack1_onAfterClick:function(e){},colorBack2_onBeforeClick:function(e){return!0},colorBack2_onAfterClick:function(e){},colorBack3_onBeforeClick:function(e){return!0},colorBack3_onAfterClick:function(e){},colorBack4_onBeforeClick:function(e){return!0},colorBack4_onAfterClick:function(e){},colorBack5_onBeforeClick:function(e){return!0},colorBack5_onAfterClick:function(e){},colorBack6_onBeforeClick:function(e){return!0},colorBack6_onAfterClick:function(e){},colorBack7_onBeforeClick:function(e){return!0},colorBack7_onAfterClick:function(e){},colorBackRInput_onBeforeClick:function(e){return!0},colorBackRInput_onAfterClick:function(e){},colorBackRInput_onBeforeInput:function(e){return!0},colorBackRInput_onAfterInput:function(e){},colorBackRInput_onBeforeBlur:function(e){return!0},colorBackRInput_onAfterBlur:function(e){},colorBackGInput_onBeforeClick:function(e){return!0},colorBackGInput_onAfterClick:function(e){},colorBackGInput_onBeforeInput:function(e){return!0},colorBackGInput_onAfterInput:function(e){},colorBackGInput_onBeforeBlur:function(e){return!0},colorBackGInput_onAfterBlur:function(e){},colorBackBInput_onBeforeClick:function(e){return!0},colorBackBInput_onAfterClick:function(e){},colorBackBInput_onBeforeInput:function(e){return!0},colorBackBInput_onAfterInput:function(e){},colorBackBInput_onBeforeBlur:function(e){return!0},colorBackBInput_onAfterBlur:function(e){},colorBackOpacityInput_onBeforeClick:function(e){return!0},colorBackOpacityInput_onAfterClick:function(e){},colorBackOpacityInput_onBeforeInput:function(e){return!0},colorBackOpacityInput_onAfterInput:function(e){},colorBackOpacityInput_onBeforeBlur:function(e){return!0},colorBackOpacityInput_onAfterBlur:function(e){},formatClearButton_onBeforeClick:function(e){return!0},formatClearButton_onAfterClick:function(e){},undoButton_onBeforeClick:function(e){return!0},undoButton_onAfterClick:function(e){},redoButton_onBeforeClick:function(e){return!0},redoButton_onAfterClick:function(e){},helpButton_onBeforeClick:function(e){return!0},helpButton_onAfterClick:function(e){},modalBack_onBeforeClick:function(e){return!0},modalBack_onAfterClick:function(e){},attLinkModal_onBeforeClick:function(e){return!0},attLinkModal_onAfterClick:function(e){},attLinkText_onBeforeInput:function(e){return!0},attLinkText_onAfterInput:function(e){},attLinkText_onBeforeBlur:function(e){return!0},attLinkText_onAfterBlur:function(e){},attLinkHref_onBeforeInput:function(e){return!0},attLinkHref_onAfterInput:function(e){},attLinkHref_onBeforeBlur:function(e){return!0},attLinkHref_onAfterBlur:function(e){},attLinkInsertButton_onBeforeClick:function(e){return!0},attLinkInsertButton_onAfterClick:function(e){},attFileModal_onBeforeClick:function(e){return!0},attFileModal_onAfterClick:function(e){},attFileUploadButton_onBeforeClick:function(e){return!0},attFileUploadButton_onAfterClick:function(e){},attFileUploadDiv_onBeforeDragover:function(e){return!0},attFileUploadDiv_onAfterDragover:function(e){},attFileUploadDiv_onBeforeDrop:function(e){return!0},attFileUploadDiv_onAfterDrop:function(e){},attFileUploadDiv_onBeforeClick:function(e){return!0},attFileUploadDiv_onAfterClick:function(e){},attFileUpload_onBeforeInput:function(e){return!0},attFileUpload_onAfterInput:function(e){},attFileUpload_onBeforeBlur:function(e){return!0},attFileUpload_onAfterBlur:function(e){},attFileInsertButton_onBeforeClick:function(e){return!0},attFileInsertButton_onAfterClick:function(e){},attLinkTooltipEditButton_onBeforeClick:function(e){return!0},attLinkTooltipEditButton_onAfterClick:function(e){},attLinkTooltipUnlinkButton_onBeforeClick:function(e){return!0},attLinkTooltipUnlinkButton_onAfterClick:function(e){},attImageModal_onBeforeClick:function(e){return!0},attImageModal_onAfterClick:function(e){},attImageUploadButtonAndView_onBeforeDragover:function(e){return!0},attImageUploadButtonAndView_onAfterDragover:function(e){},attImageUploadButtonAndView_onBeforeDrop:function(e){return!0},attImageUploadButtonAndView_onAfterDrop:function(e){},attImageUploadButtonAndView_onBeforeClick:function(e){return!0},attImageUploadButtonAndView_onAfterClick:function(e){},attImageViewPreButtion_onBeforeClick:function(e){return!0},attImageViewPreButtion_onAfterClick:function(e){},attImageViewNextButtion_onBeforeClick:function(e){return!0},attImageViewNextButtion_onAfterClick:function(e){},attImageUpload_onBeforeInput:function(e){return!0},attImageUpload_onAfterInput:function(e){},attImageUpload_onBeforeBlur:function(e){return!0},attImageUpload_onAfterBlur:function(e){},attImageURL_onBeforeInput:function(e){return!0},attImageURL_onAfterInput:function(e){},attImageURL_onBeforeBlur:function(e){return!0},attImageURL_onAfterBlur:function(e){},attImageInsertButton_onBeforeClick:function(e){return!0},attImageInsertButton_onAfterClick:function(e){},attVideoModal_onBeforeClick:function(e){return!0},attVideoModal_onAfterClick:function(e){},attVideoEmbedId_onBeforeInput:function(e){return!0},attVideoEmbedId_onAfterInput:function(e){},attVideoEmbedId_onBeforeBlur:function(e){return!0},attVideoEmbedId_onAfterBlur:function(e){},attVideoWidth_onBeforeInput:function(e){return!0},attVideoWidth_onAfterInput:function(e){},attVideoWidth_onBeforeBlur:function(e){return!0},attVideoWidth_onAfterBlur:function(e){},attVideoHeight_onBeforeInput:function(e){return!0},attVideoHeight_onAfterInput:function(e){},attVideoHeight_onBeforeBlur:function(e){return!0},attVideoHeight_onAfterBlur:function(e){},attVideoInsertButton_onBeforeClick:function(e){return!0},attVideoInsertButton_onAfterClick:function(e){},attImageAndVideoTooltipWidthInput_onBeforeInput:function(e){return!0},attImageAndVideoTooltipWidthInput_onAfterInput:function(e){},attImageAndVideoTooltipWidthInput_onBeforeBlur:function(e){return!0},attImageAndVideoTooltipWidthInput_onAfterBlur:function(e){},attImageAndVideoTooltipWidthInput_onBeforeKeyup:function(e){return!0},attImageAndVideoTooltipWidthInput_onAfterKeyup:function(e){},attImageAndVideoTooltipFloatRadioNone_onBeforeClick:function(e){return!0},attImageAndVideoTooltipFloatRadioNone_onAfterClick:function(e){},attImageAndVideoTooltipFloatRadioLeft_onBeforeClick:function(e){return!0},attImageAndVideoTooltipFloatRadioLeft_onAfterClick:function(e){},attImageAndVideoTooltipFloatRadioRight_onBeforeClick:function(e){return!0},attImageAndVideoTooltipFloatRadioRight_onAfterClick:function(e){},attImageAndVideoTooltipShapeRadioSquare_onBeforeClick:function(e){return!0},attImageAndVideoTooltipShapeRadioSquare_onAfterClick:function(e){},attImageAndVideoTooltipShapeRadioRadius_onBeforeClick:function(e){return!0},attImageAndVideoTooltipShapeRadioRadius_onAfterClick:function(e){},attImageAndVideoTooltipShapeRadioCircle_onBeforeClick:function(e){return!0},attImageAndVideoTooltipShapeRadioCircle_onAfterClick:function(e){},helpModal_onBeforeClick:function(e){return!0},helpModal_onAfterClick:function(e){},placeholder_onBeforeClick:function(e){return!0},placeholder_onAfterClick:function(e){}},this.cssEvents={target_onBeforeClick:function(e){return!0},target_onAfterClick:function(e){},target_onBeforeMouseover:function(e){return!0},target_onAfterMouseover:function(e){},target_onBeforeMouseout:function(e){return!0},target_onAfterMouseout:function(e){},target_onBeforeTouchstart:function(e){return!0},target_onAfterTouchstart:function(e){},target_onBeforeTouchend:function(e){return!0},target_onAfterTouchend:function(e){}},this.eventStore={selectionchange:null,keydown:null,resize:null,resizeViewport:null},this._beforeAlert=function(e){return!0}}}function n(e){if(e.elements.notes=document.querySelectorAll("[data-vanillanote]"),!(e.elements.notes.length<=0)){var t,l,n,i,s,r,c,d,u,p,m,g,f,b,v,h,x,_,k,B,T,S,I,y,E,A,C,N,L,R,V,w,K,F,O,Y,U,z,H,M,G,D,P,W,j,q,$,X,Q,Z,J,ee,te,ae,oe,le,ne,ie,se,re,ce,de,ue,pe,me,ge,fe,be,ve,he,xe,_e,ke,Be,Te,Se,Ie,ye,Ee,Ae,Ce,Ne,Le,Re,Ve,we,Ke,Fe,Oe,Ye,Ue,ze,He,Me,Ge,De,Pe,We,je,qe,$e,Xe,Qe,Ze,Je,et,tt,at,ot,lt,nt,it,st,rt,ct,dt,ut,pt,mt,gt,ft,bt,vt,ht,xt,_t,kt,Bt,Tt,St,It,yt,Et,At,Ct,Nt,Lt,Rt,Vt,wt,Kt,Ft,Ot,Yt,Ut,zt,Ht,Mt,Gt,Dt,Pt,Wt,jt,qt,$t,Xt,Qt,Zt="",Jt=function(t,a){return e.variables.noteName+"_"+t+"_"+a},ea=function(t,a){return e.variables.noteName+"_"+a+" "+e.variables.noteName+"_"+t+"_"+a},ta=function(){return e.variables.noteName+"_eventChildren"},aa=function(){return e.variables.noteName+"_eventOnOverCssElement"},oa=function(){return e.variables.noteName+"_eventClickCssElement"},la=function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))},na=function(e){if(!e)return null;for(var t,a=e instanceof Element?e:e.parentNode;!a.hasAttribute("data-note-index")&&(a=a.parentNode)&&a.hasAttribute;);return a&&a.hasAttribute&&a.hasAttribute("data-note-index")&&(t=a.getAttribute("data-note-index")),t},ia=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},sa=function(e){return/^[0-9]+$/.test(e)},ra=function(e){return"-"===e||!isNaN(e)},ca=function(e){return/^[0-9A-Fa-f]*$/.test(e)},da=function(e){var t=e.match(/-?\d+\.?\d*/);return t?Number(parseFloat(t[0])):null},ua=function(e,t){var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var l=0;l<a.length;l++){if(!o.includes(a[l]))return!1;if(e[a[l]]!==t[a[l]])return!1}return!0},pa=function(e){for(var t="",a=0;a<e.length;a++)e[a]&&(t+=e[a].trim(),a!==e.length-1&&(t+=", "));return t},ma=function(e){var t,a,o=new Object;if(!e)return o;t=e.trim().split(";");for(var l=0;l<t.length;l++)t[l]&&((a=t[l].split(":")).length<2||(o[a[0].trim()]=a[1].trim()));return o},ga=function(e){var t="";if(!e||e.constructor!==Object||0===Object.keys(e).length)return t;for(var a=Object.entries(e),o=0;o<a.length;o++)a[o].length<2||(t+=a[o][0].trim()+":"+a[o][1].trim()+";");return t},fa=function(e){var t=new Object;if(!e.attributes)return t;for(var a=0;a<e.attributes.length;a++)t[e.attributes[a].nodeName]=e.attributes[a].nodeValue;return t},ba=function(e,t){if(!t||t.constructor!==Object)return e;for(var a=Object.keys(t),o=0;o<a.length;o++)e.setAttribute(a[o],t[a[o]]);return e},va=function(e,t){var a=fa(e),o=fa(t);return ua(a,o)},ha=function(e,t){var a=e.cssText,o=t.cssText;return ua(ma(a),ma(o))},xa=function(e,t){if(!e||!t)return"33";if(t=t.toUpperCase(),"#"!==e[0]&&(e="#"+e),!/^#([0-9A-Fa-f]{6})$/.test(e))return"33";var a="R"===t?1:"G"===t?3:5;return e.substring(a,a+2)},_a=function(e,t){return"rgba("+parseInt(xa(e,"R"),16)+","+parseInt(xa(e,"G"),16)+","+parseInt(xa(e,"B"),16)+","+t+")"},ka=function(e){if(e.startsWith("#"))return e;if(!e.startsWith("rgba"))return null;var t=e.match(/\d+/g).map(Number),a=t[0].toString(16),o=t[1].toString(16),l=t[2].toString(16);return 1==a.length&&(a="0"+a),1==o.length&&(o="0"+o),1==l.length&&(l="0"+l),"#"+a+o+l},Ba=function(e){if(!e)return null;if(e.startsWith("#"))return null;var t=e.match(/\d+/g);if(!t)return null;var a=t.map(Number);return a.length<4?1:a[3].toString()},Ta=function(e){if(/^#[0-9a-fA-F]{6}$/.test(e))return e;var t=document.createElement("div");t.style.color=e,document.body.appendChild(t);var a=window.getComputedStyle(t).color;document.body.removeChild(t);var o=a.match(/\d+/g);return"#"+((1<<24)+(+o[0]<<16)+(+o[1]<<8)+ +o[2]).toString(16).slice(1)},Sa=function(e,t){e.startsWith("#")&&(e=e.slice(1));var a=parseInt(t,16);t.startsWith("-")&&(a=-parseInt(t.slice(1),16));var o=parseInt(e.slice(0,2),16)+a,l=parseInt(e.slice(2,4),16)+a,n=parseInt(e.slice(4,6),16)+a;return"#"+(o=(o<0?0:o>255?255:o).toString(16).padStart(2,"0"))+(l=(l<0?0:l>255?255:l).toString(16).padStart(2,"0"))+(n<0?0:n>255?255:n).toString(16).padStart(2,"0")},Ia=function(e){e.startsWith("#")&&(e=e.slice(1));var t=255-parseInt(e.slice(0,2),16),a=255-parseInt(e.slice(2,4),16),o=255-parseInt(e.slice(4,6),16);return a=a<127.5?a+16:a-16,o=o<127.5?o+16:o-16,"#"+(t=((t=t<127.5?t+16:t-16)<0?0:t>255?255:t).toString(16).padStart(2,"0"))+(a=(a<0?0:a>255?255:a).toString(16).padStart(2,"0"))+(o<0?0:o>255?255:o).toString(16).padStart(2,"0")},ya=function(t){var a;a="resize"===t?e.variables.resizeInterval:e.variables.inputInterval,e.variables.canEvents=!1,setTimeout((function(){e.variables.canEvents=!0}),a)},Ea=function(t,a){var o,l,n;(function t(a,i){if(!(a.tagName!==(e.variables.noteName+"-textarea").toUpperCase()&&i.tagName!==(e.variables.noteName+"-textarea").toUpperCase()&&e.consts.NOT_SINGLE_TAG.indexOf(a.tagName)>=0&&e.consts.NOT_SINGLE_TAG.indexOf(i.tagName)>=0)||a.nodeType===i.nodeType&&a.tagName===i.tagName&&va(a,i)&&ha(a,i))if(!(a.tagName!==(e.variables.noteName+"-textarea").toUpperCase()&&i.tagName!==(e.variables.noteName+"-textarea").toUpperCase()&&e.consts.NOT_SINGLE_TAG.indexOf(a.tagName)<0&&e.consts.NOT_SINGLE_TAG.indexOf(i.tagName)<0)||a.nodeType===i.nodeType&&a.tagName===i.tagName&&a.textContent===i.textContent&&va(a,i)&&ha(a,i))for(var s=Array.prototype.slice.call(a.childNodes),r=Array.prototype.slice.call(i.childNodes),c=Math.max(s.length,r.length),d=0;d<c;d++){var u=s[d],p=r[d];!u&&p?(n=p.cloneNode(!0),a.appendChild(n),o||(o=n),l=n):u&&!p?a.removeChild(u):t(u,p)}else n=i.cloneNode(!0),a.parentNode.replaceChild(n,a),o||(o=n),l=n;else n=i.cloneNode(!0),a.parentNode.replaceChild(n,a),o||(o=n),l=n})(t,a),o&&(l||(l=o),l instanceof Element?newEndOffset=l.childNodes.length:3===l.nodeType?newEndOffset=l.textContent.length:newEndOffset=0,Aa(o,0,l,newEndOffset))},Aa=function(e,t,a,o){if(document.contains(e)&&document.contains(a)){var l=document.createRange(),n=window.getSelection();return l.setStart(e,t),l.setEnd(a,o),n.removeAllRanges(),n.addRange(l),n}},Ca=function(t){if(e.variables.editRanges[t]){e.variables.setEditStyleTagToggle=2;var a=window.getSelection();a.removeAllRanges(),a.addRange(e.variables.editRanges[t])}},Na=function(t,a){if(a.rangeCount<1)return!1;if(!Pa())return!1;if(e.variables.editSelections[t]=a,e.variables.editRanges[t]=e.variables.editSelections[t].getRangeAt(0),e.variables.startOffsets[t]=e.variables.editRanges[t].startOffset,e.variables.endOffsets[t]=e.variables.editRanges[t].endOffset,e.variables.editStartNodes[t]=e.variables.editRanges[t].startContainer,e.variables.editEndNodes[t]=e.variables.editRanges[t].endContainer,e.variables.editStartNodes[t]instanceof Element){for(;e.variables.editStartNodes[t]instanceof Element&&e.variables.editStartNodes[t].firstChild&&"BR"!==e.variables.editStartNodes[t].firstChild.tagName&&(e.variables.editStartNodes[t]=e.variables.editStartNodes[t].firstChild,3!==e.variables.editStartNodes[t].nodeType););e.variables.startOffsets[t]=0}if(e.variables.editEndNodes[t]instanceof Element){for(;e.variables.editEndNodes[t]instanceof Element&&e.variables.editEndNodes[t].firstChild&&"BR"!==e.variables.editEndNodes[t].firstChild.tagName&&(e.variables.editEndNodes[t]=e.variables.editEndNodes[t].firstChild,3!==e.variables.editEndNodes[t].nodeType););e.variables.endOffsets[t]=0}if(e.variables.editStartElements[t]=e.variables.editRanges[t].startContainer instanceof Element?e.variables.editRanges[t].startContainer:e.variables.editRanges[t].startContainer.parentNode,e.variables.editEndElements[t]=e.variables.editRanges[t].endContainer instanceof Element?e.variables.editRanges[t].endContainer:e.variables.editRanges[t].endContainer.parentNode,e.consts.UNIT_TAG.indexOf(e.variables.editStartElements[t].tagName)>0)for(;e.consts.UNIT_TAG.indexOf(e.variables.editStartElements[t].tagName)>0;)e.variables.editStartElements[t]=e.variables.editStartElements[t].firstChild;if(e.consts.UNIT_TAG.indexOf(e.variables.editEndElements[t].tagName)>0)for(;e.consts.UNIT_TAG.indexOf(e.variables.editEndElements[t].tagName)>0;)e.variables.editEndElements[t]=e.variables.editEndElements[t].lastChild;e.variables.editStartElements[t]instanceof Element&&"BR"===e.variables.editStartElements[t].tagName&&(e.variables.editStartElements[t]=e.variables.editStartElements[t].parentNode),e.variables.editEndElements[t]instanceof Element&&"BR"===e.variables.editEndElements[t].tagName&&(e.variables.editEndElements[t]=e.variables.editEndElements[t].parentNode),e.variables.editStartElements[t].tagName===(e.variables.noteName+"-textarea").toUpperCase()&&(e.variables.editStartElements[t]=null),e.variables.editEndElements[t].tagName===(e.variables.noteName+"-textarea").toUpperCase()&&(e.variables.editEndElements[t]=null),e.variables.editStartUnitElements[t]=Ra(e.variables.editStartElements[t]),e.variables.editEndUnitElements[t]=Ra(e.variables.editEndElements[t]),e.variables.editDragUnitElements[t].splice(0,e.variables.editDragUnitElements[t].length);for(var o,l=Xa(t),n=0;n<l.length;n++)o=Ra(l[n]),e.variables.editDragUnitElements[t].includes(o)||e.variables.editDragUnitElements[t].push(o);return Da(t),function(t){if(go(t),e.variables.editRanges[t].collapsed)switch(Fa(e.variables.editStartNodes[t])){case"A":fo(t);break;case"IMG":case"IFRAME":bo(t)}}(t),!0},La=function(t){return!!e.variables.editRanges[t]&&!!e.variables.editStartElements[t]&&!!e.variables.editStartUnitElements[t]},Ra=function(t){for(var a=t;a&&!(e.consts.UNIT_TAG.indexOf(a.tagName)>=0);){if(e.consts.DOUBLE_TAG.indexOf(a.tagName)>=0){a=a.lastElementChild;break}if(a.tagName===(e.variables.noteName+"-textarea").toUpperCase())return null;a=a.parentNode}return a},Va=function(t){var a="span";return t&&t.parentNode&&t.parentNode.tagName?e.consts.UNIT_TAG.indexOf(t.parentNode.tagName)>=0||e.consts.AUTO_MODIFY_TAG.indexOf(t.parentNode.tagName)>=0?a:t.parentNode.tagName:a},wa=function(t){for(var a=fa(t),o=function(e){if(e.getAttribute)for(var t=fa(e),o=Object.keys(t),l=0;l<o.length;l++)t[o[l]]&&"style"!==o[l]&&!a[o[l]]&&(a[o[l]]=t[o[l]])};t&&!(e.consts.UNIT_TAG.indexOf(t.tagName)>=0);)o(t),t=t.parentNode;return a},Ka=function(t){for(var a=ma(document.contains(t)&&t.getAttribute?t.getAttribute("style"):""),o=function(e){if(e.getAttribute)for(var t=ma(e.getAttribute("style")),o=Object.keys(t),l=0;l<o.length;l++)a[o[l]]||(a[o[l]]=t[o[l]])};t&&!(e.consts.UNIT_TAG.indexOf(t.tagName)>=0);){switch(t.tagName){case"B":case"STRONG":a["font-weight"]="bold";break;case"U":a["text-decoration"]="underline";break;case"I":a["font-style"]="italic"}o(t),t=t.parentNode}return a},Fa=function(t){for(var a=t,o=a.tagName;a&&e.consts.UNIT_TAG.indexOf(o)<0;){if(e.consts.SPECIAL_TAG.indexOf(o)>=0)return o;if(!(a=a.parentNode))break;o=a.tagName}return"SPAN"},Oa=function(t,a){var o=[],l=t,n=fa(t);for(o.push(l);l;){for(;l.previousSibling;){if((l=l.previousSibling).tagName&&e.consts.DOUBLE_TAG.indexOf(l.tagName)>0)for(;l.lastChild;)l=l.lastChild;else if(l.tagName&&e.consts.UNIT_TAG.indexOf(l.tagName)>0)for(;l.lastChild;)l=l.lastChild;if(3===l.nodeType&&(l=l.parentNode),e.consts.UNIT_TAG.indexOf(l.tagName)>0||!l.tagName||l.tagName!==a.toUpperCase()||!ua(n,fa(l)))return o;o.push(l)}l=l.parentNode}return o},Ya=function(t,a){var o=[],l=t,n=fa(t);for(o.push(l);l;){for(;l.nextSibling;){if((l=l.nextSibling).tagName&&e.consts.DOUBLE_TAG.indexOf(l.tagName)>0)for(;l.firstChild;)l=l.firstChild;else if(l.tagName&&e.consts.UNIT_TAG.indexOf(l.tagName)>0)for(;l.firstChild;)l=l.firstChild;if(3===l.nodeType&&(l=l.parentNode),e.consts.UNIT_TAG.indexOf(l.tagName)>0||!l.tagName||l.tagName!==a.toUpperCase()||!ua(n,fa(l)))return o;o.push(l)}l=l.parentNode}return o},Ua=function(e,t){if(e.classList.contains(ta())&&(e=e.parentNode),t){if(!(a=na(e)))return;e.classList.add(Jt(a,"on_button_on"))}else{var a;if(!(a=na(e)))return;e.classList.remove(Jt(a,"on_button_on"))}},za=function(t){e.variables.boldToggles[t]=!1,e.variables.underlineToggles[t]=!1,e.variables.italicToggles[t]=!1,e.variables.ulToggles[t]=!1,e.variables.olToggles[t]=!1,Ua(e.elements.boldButtons[t],e.variables.boldToggles[t]),Ua(e.elements.underlineButtons[t],e.variables.underlineToggles[t]),Ua(e.elements.italicButtons[t],e.variables.italicToggles[t]),Ua(e.elements.ulButtons[t],e.variables.ulToggles[t]),Ua(e.elements.olButtons[t],e.variables.olToggles[t])},Ha=function(t){t.classList.contains(ta())&&(t=t.parentNode);for(var a=t,o=!1;a&&"select"!==a.getAttribute("type");)o=!0,a=a.parentNode;if(a.getAttribute("data-note-index")){var l,n=a.getAttribute("data-note-index"),i=a.getAttribute("id");if(i.includes("paragraphStyleSelect"))l=e.elements.paragraphStyleSelectBoxes[n];else if(i.includes("textAlignSelect"))l=e.elements.textAlignSelectBoxes[n];else if(i.includes("fontFamilySelect"))l=e.elements.fontFamilySelectBoxes[n];else if(i.includes("colorTextSelect")){if(o)return;l=e.elements.colorTextSelectBoxes[n]}else if(i.includes("colorBackSelect")){if(o)return;l=e.elements.colorBackSelectBoxes[n]}var s=Jt(n,"on_display_block"),r=Jt(n,"on_display_none"),c=l.classList.contains(s);if(Ma(n),c?(l.classList.remove(s),l.classList.add(r)):(l.classList.remove(r),l.classList.add(s)),function(e){if(null===e.offsetParent)return!1;var t=e.getBoundingClientRect();return window.innerWidth/2<t.left}(a)){if(l.style.removeProperty("left"),l.style.right="0%",null===l.offsetParent)return;if(0===(d=l.getBoundingClientRect()).top)return;if(null===e.elements.tools[n].offsetParent)return;(u=e.elements.tools[n].getBoundingClientRect()).left>d.left&&(l.style.right=d.left-1+"px")}else{if(l.style.removeProperty("right"),l.style.left="0%",null===l.offsetParent)return;var d,u;if(0===(d=l.getBoundingClientRect()).top)return;if(null===e.elements.tools[n].offsetParent)return;(u=e.elements.tools[n].getBoundingClientRect()).right<d.right&&(l.style.left=u.right-(d.right+1)+"px")}}},Ma=function(t){var a=Jt(t,"on_display_block"),o=Jt(t,"on_display_none");e.elements.paragraphStyleSelectBoxes[t].classList.remove(a),e.elements.paragraphStyleSelectBoxes[t].classList.add(o),e.elements.textAlignSelectBoxes[t].classList.remove(a),e.elements.textAlignSelectBoxes[t].classList.add(o),e.elements.fontFamilySelectBoxes[t].classList.remove(a),e.elements.fontFamilySelectBoxes[t].classList.add(o),e.elements.colorTextSelectBoxes[t].classList.remove(a),e.elements.colorTextSelectBoxes[t].classList.add(o),e.elements.colorBackSelectBoxes[t].classList.remove(a),e.elements.colorBackSelectBoxes[t].classList.add(o)},Ga=function(t){var a=new Object;return e.variables.boldToggles[t]&&(a["font-weight"]="bold"),e.variables.underlineToggles[t]&&(a["text-decoration"]="underline"),e.variables.italicToggles[t]&&(a["font-style"]="italic"),a["font-size"]=e.variables.fontSizes[t]+"px",a["line-height"]=e.variables.lineHeights[t]+"px","0"!==e.variables.letterSpacings[t]&&(a["letter-spacing"]=e.variables.letterSpacings[t]+"px"),e.variables.fontFamilies[t]&&(a["font-family"]=e.variables.fontFamilies[t]),Ta(e.colors.color12[t])===e.variables.colorTextRGBs[t]&&"1"===e.variables.colorTextOpacitys[t]||(a.color=_a(e.variables.colorTextRGBs[t],e.variables.colorTextOpacitys[t])),Ta(e.colors.color13[t])===e.variables.colorBackRGBs[t]&&"0"===e.variables.colorBackOpacitys[t]||(a["background-color"]=_a(e.variables.colorBackRGBs[t],e.variables.colorBackOpacitys[t])),a},Da=function(t){if(e.variables.setEditStyleTagToggle>0)e.variables.setEditStyleTagToggle--;else{for(var a=e.variables.editStartUnitElements[t],o=a;a;){if(a.tagName===(e.variables.noteName+"-textarea").toUpperCase()){o=a;break}a=a.parentNode}if(o){var l=Ka(e.variables.editStartElements[t]);if(e.variables.editStartNodes[t]!==e.variables.editEndNodes[t]){var n=l,i=!1,s=!1,r=function a(o){for(var r=0;r<o.childNodes.length&&!s;r++)e.variables.editStartNodes[t]===o.childNodes[r]&&(i=!0),i&&3===o.childNodes[r].nodeType&&o.childNodes[r].textContent&&(n=Ka(o.childNodes[r])),ua(l,n)||(l={},s=!0),e.variables.editEndNodes[t]===o.childNodes[r]&&(s=!0),o.childNodes[r].childNodes&&a(o.childNodes[r])};for(d=0;d<e.variables.editDragUnitElements[t].length;d++)r(e.variables.editDragUnitElements[t][d])}!function(t,a){"bold"===a["font-weight"]?e.variables.boldToggles[t]=!0:e.variables.boldToggles[t]=!1,"underline"===a["text-decoration"]||"underline"===a["text-decoration-line"]?e.variables.underlineToggles[t]=!0:e.variables.underlineToggles[t]=!1,"italic"===a["font-style"]?e.variables.italicToggles[t]=!0:e.variables.italicToggles[t]=!1,a.color?(e.variables.colorTextRGBs[t]=ka(a.color),e.variables.colorTextOpacitys[t]=Ba(a.color),e.variables.colorTextRGBs[t]?e.variables.colorTextOpacitys[t]||(a.opacity?e.variables.colorTextOpacitys[t]=a.opacity:e.variables.colorTextOpacitys[t]="1"):(e.variables.colorTextRGBs[t]=Ta(e.colors.color12[t]),e.variables.colorTextOpacitys[t]="1")):(e.variables.colorTextRGBs[t]=Ta(e.colors.color12[t]),e.variables.colorTextOpacitys[t]="1"),a["background-color"]?(e.variables.colorBackRGBs[t]=ka(a["background-color"]),e.variables.colorBackOpacitys[t]=Ba(a["background-color"]),e.variables.colorTextRGBs[t]?e.variables.colorBackOpacitys[t]||(a.opacity?e.variables.colorBackOpacitys[t]=a.opacity:e.variables.colorBackOpacitys[t]="0"):(e.variables.colorTextRGBs[t]=Ta(e.colors.color12[t]),e.variables.colorTextOpacitys[t]="1")):(e.variables.colorBackRGBs[t]=Ta(e.colors.color13[t]),e.variables.colorBackOpacitys[t]="0")}(t,l);var c=function(t){for(var a="",o="",l=0;l<e.variables.editDragUnitElements[t].length;l++){if(o="LI"===e.variables.editDragUnitElements[t][l].tagName?e.variables.editDragUnitElements[t][l].parentNode.tagName:e.variables.editDragUnitElements[t][l].tagName,a&&a!==o)return"";a=o}return a}(t);!function(t,a){e.variables.ulToggles[t]="UL"===a,e.variables.olToggles[t]="OL"===a}(t,c),function(t){Ua(e.elements.boldButtons[t],e.variables.boldToggles[t]),Ua(e.elements.underlineButtons[t],e.variables.underlineToggles[t]),Ua(e.elements.italicButtons[t],e.variables.italicToggles[t]),Ua(e.elements.ulButtons[t],e.variables.ulToggles[t]),Ua(e.elements.olButtons[t],e.variables.olToggles[t]),e.elements.colorTextSelects[t].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[t],"0"===e.variables.colorTextOpacitys[t]?1:e.variables.colorTextOpacitys[t]),e.elements.colorBackSelects[t].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[t],"0"===e.variables.colorBackOpacitys[t]?1:e.variables.colorBackOpacitys[t])}(t)}else for(var d=0;d<e.elements.notes.length;d++)za(d)}},Pa=function(){var t=window.getSelection();if(!t||t.rangeCount<1)return!1;for(var a=t.getRangeAt(0).startContainer.parentNode,o=!1;a;){if(a.tagName===(e.variables.noteName+"-textarea").toUpperCase()){o=!0;break}a=a.parentNode}return o},Wa=function(e,t){for(var a,o,l=document.createElement(t),n=e.childNodes;n[0];)n[0].getAttribute&&(a=ma(n[0].getAttribute("style")),l&&"H"===l.tagName.substring(0,1)&&(delete a["font-size"],delete a["letter-spacing"],delete a["line-height"]),o=ga(a)),o&&n[0].setAttribute&&n[0].setAttribute("style",o),l.append(n[0]);return ba(l,fa(e))},ja=function(t,a){if(!(e.consts.DOUBLE_TAG.indexOf(a.tagName)<0)){for(var o,l=a.childNodes,n=0;n<l.length;n++){o=Wa(l[n],"P"),a.insertAdjacentElement("beforebegin",o);for(var i=0;i<e.variables.editDragUnitElements[t].length;i++)if(e.variables.editDragUnitElements[t][i]===l[n]){e.variables.editDragUnitElements[t][i]=o;break}}a.remove()}},qa=function(t,a,o,l){t=t.replace(/<br\s*\/?>/gm,"\n"),(!a||e.consts.UNIT_TAG.indexOf(a)>=0||e.consts.AUTO_MODIFY_TAG.indexOf(a)>=0)&&(a="span");var n=document.createElement(a);return n.innerText=t,l&&(n=ba(n,l)),o&&n.setAttribute("style",o),n},$a=function(t,a,o){var l=!1;return e.variables.editStartNodes[t]===o&&(e.variables.editStartNodes[t]=a,l=!0),e.variables.editEndNodes[t]===o&&(e.variables.editEndNodes[t]=a,l=!0),e.variables.editStartElements[t]===o&&(e.variables.editStartElements[t]=a,l=!0),e.variables.editEndElements[t]===o&&(e.variables.editEndElements[t]=a,l=!0),e.variables.editStartUnitElements[t]===o&&(e.variables.editStartUnitElements[t]=a,l=!0),e.variables.editEndUnitElements[t]===o&&(e.variables.editEndUnitElements[t]=a,l=!0),l},Xa=function(t){var a=!1,o=e.variables.editStartNodes[t],l=[];if(!e.variables.editStartUnitElements[t]||!e.variables.editEndUnitElements[t])return l;for(var n=e.variables.editEndUnitElements[t].lastChild;n&&n.lastChild;)n=n.lastChild;for(var i=function t(o){if(o===n&&(l.push(o),a=!0),!a&&((e.consts.UNIT_TAG.indexOf(o.tagName)>=0||e.consts.EMPTY_ABLE_TAG.indexOf(o.tagName)>=0||3===o.nodeType)&&l.push(o),o&&o.childNodes&&o.childNodes.length))for(var i=0;i<o.childNodes.length;i++)t(o.childNodes[i])};o&&!a;)if(i(o),o.nextSibling)o=o.nextSibling;else{for(;o&&!o.nextSibling;)o=o.parentNode;o&&(o=o.nextSibling)}return l},Qa=function(t){var a=na(t);if(a&&La(a)){var o,l=t.getAttribute("data-tag-name");if(e.consts.DOUBLE_TAG.indexOf(l)>=0)for(var n=document.createElement(l),i=0;i<e.variables.editDragUnitElements[a].length&&("LI"===e.variables.editDragUnitElements[a][i].tagName&&ja(a,e.variables.editDragUnitElements[a][i].parentNode),"UL"!==l||!e.variables.ulToggles[a])&&("OL"!==l||!e.variables.olToggles[a]);i++)0===i&&e.variables.editDragUnitElements[a][0].insertAdjacentElement("beforebegin",n),o=Wa(e.variables.editDragUnitElements[a][i],"LI"),$a(a,o,e.variables.editDragUnitElements[a][i]),e.variables.editDragUnitElements[a][i].remove(),e.variables.editDragUnitElements[a][i]=o,n.append(o);else for(i=0;i<e.variables.editDragUnitElements[a].length;i++)"LI"===e.variables.editDragUnitElements[a][i].tagName&&ja(a,e.variables.editDragUnitElements[a][i].parentNode),o=Wa(e.variables.editDragUnitElements[a][i],l),$a(a,o,e.variables.editDragUnitElements[a][i]),e.variables.editDragUnitElements[a][i].replaceWith(o),e.variables.editDragUnitElements[a][i]=o;var s=0,r=e.variables.editEndElements[a]?e.variables.editEndElements[a].textContent.length:0;e.variables.editStartElements[a]===e.variables.editEndElements[a]&&(s=r),Aa(e.variables.editStartNodes[a],s,e.variables.editEndNodes[a],r)}},Za=function(t){var a=na(t);if(a&&La(a)){for(var o,l,n,i,s=t.getAttribute("data-tag-style"),r=ma(s),c=0;c<e.variables.editDragUnitElements[a].length;c++)o=e.variables.editDragUnitElements[a][c].getAttribute("style"),n=ma(o),l=ga(ll(n,r)),(i=e.variables.editDragUnitElements[a][c].cloneNode(!0)).setAttribute("style",l),e.variables.editDragUnitElements[a][c].parentNode.replaceChild(i,e.variables.editDragUnitElements[a][c]),e.variables.editDragUnitElements[a][c]=i;e.variables.editEndElements[a].childNodes&&e.variables.editEndElements[a].childNodes.length,Aa(e.variables.editDragUnitElements[a][0],0,e.variables.editDragUnitElements[a][e.variables.editDragUnitElements[a].length-1],1)}},Ja=function(t,a,o,l){if(La(t)){var n,i,s,r,c,d,u,p,m;r=a?ga(a):"",s=o||"",c=l||null,d=Xa(t);for(var g=e.variables.editStartNodes[t].textContent.slice(0,e.variables.startOffsets[t]),f=e.variables.editStartNodes[t].textContent.slice(e.variables.startOffsets[t],e.variables.editStartNodes[t].textContent.length),b=e.variables.editEndNodes[t].textContent.slice(0,e.variables.endOffsets[t]),v=e.variables.editEndNodes[t].textContent.slice(e.variables.endOffsets[t],e.variables.editEndNodes[t].textContent.length),h=function(a,o){a&&(o?o.insertBefore(a,null):e.variables.editStartUnitElements[t].insertBefore(a,null))},x=!1,_=e.variables.editStartNodes[t]===e.variables.editEndNodes[t],k=0;k<d.length;k++)3===d[k].nodeType?(l||(c=wa(d[k])),o||(s=Fa(d[k])),a||(r=ga(Ka(d[k]))),(n=Ra(d[k]))&&"H"===n.tagName.substring(0,1)&&(delete(a=ma(r))["font-size"],delete a["letter-spacing"],delete a["line-height"],r=ga(a)),d[k]===e.variables.editStartNodes[t]?(_&&(f=f.slice(0,f.length-v.length)),h(n=qa(g,Va(e.variables.editStartNodes[t]),ga(Ka(e.variables.editStartNodes[t])),wa(e.variables.editStartNodes[t])),i),h(n=qa(f,s,r,c),i),u=n.firstChild,_&&(p=n.firstChild,h(n=qa(v,Va(e.variables.editEndNodes[t]),ga(Ka(e.variables.editEndNodes[t])),wa(e.variables.editEndNodes[t])),i),x=!0),d[k].remove()):_||d[k]!==e.variables.editEndNodes[t]?(h(n=x?qa(d[k].textContent,Va(d[k]),ga(Ka(d[k])),wa(d[k])):qa(d[k].textContent,s,r,c),i),d[k].remove()):(h(n=qa(b,s,r,c),i),p=n.firstChild,h(n=qa(v,Va(e.variables.editEndNodes[t]),ga(Ka(e.variables.editEndNodes[t])),wa(e.variables.editEndNodes[t])),i),x=!0,d[k].remove())):e.consts.EMPTY_ABLE_TAG.indexOf(d[k].tagName)>=0?(h(n=d[k].cloneNode(),i),d[k].remove()):e.consts.UNIT_TAG.indexOf(d[k].tagName)>=0&&(i=d[k],isAppend=!0);for(k=0;k<e.variables.editDragUnitElements[t].length;k++)to(e.variables.editDragUnitElements[t][k]);u||(u=e.variables.editStartUnitElements[t]),p?m=p.textContent.length:(p=e.variables.editEndUnitElements[t],m=0),Aa(u,0,p,m)}},eo=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);var t=document.createElement("P"),a=document.createElement("BR");t.appendChild(a),e.appendChild(t),Aa(t,0,t,0)},to=function(t){for(var a=t.querySelectorAll("*"),o=a.length-1;o>=0;o--)!a[o].hasChildNodes()&&e.consts.EMPTY_ABLE_TAG.indexOf(a[o].tagName)<0&&a[o].remove()},ao=function(t){wo.note_observer.disconnect(),function(t){for(var a=t.childNodes,o=document.createElement("P"),l=[],n=!0,i=0;i<a.length;i++)e.consts.UNIT_TAG.indexOf(a[i].tagName)<0&&e.consts.DOUBLE_TAG.indexOf(a[i].tagName)<0?n?(t.insertBefore(o,a[i]),n=!1):(o.append(a[i].cloneNode(!0)),l.push(a[i])):(o=document.createElement("P"),n=!0);for(i=0;i<l.length;i++)l[i].remove()}(e.elements.textareas[t]),oo()},oo=function(){for(var t=0;t<e.elements.textareas.length;t++)wo.note_observer.observe(e.elements.textareas[t],e.variables.observerOptions)},lo=function(t,a){if(t&&a){3===a.nodeType&&(a=a.parentNode);var o=null,l=a.offsetTop-Math.round(e.variables.mobileKeyboardExceptHeight/2)+Math.round(a.offsetHeight/2),n=t.scrollTop,i=l-n;window.requestAnimationFrame((function e(a){o||(o=a);var l=a-o,s=Math.min(l/500,1);t.scrollTop=n+i*s,l<500&&window.requestAnimationFrame(e)}))}},no=function(t){var a=t.getAttribute("data-note-index");t.style.height=e.variables.textareaOriginHeights[a]},io=function(t){var a=Jt(t,"on_display_block"),o=Jt(t,"on_display_none");e.elements.backModals[t].classList.remove(a),e.elements.backModals[t].classList.add(o),e.elements.attLinkModals[t].classList.remove(a),e.elements.attLinkModals[t].classList.add(o),e.elements.attFileModals[t].classList.remove(a),e.elements.attFileModals[t].classList.add(o),e.elements.attImageModals[t].classList.remove(a),e.elements.attImageModals[t].classList.add(o),e.elements.attVideoModals[t].classList.remove(a),e.elements.attVideoModals[t].classList.add(o),e.elements.helpModals[t].classList.remove(a),e.elements.helpModals[t].classList.add(o),_o(t),Eo(t),Ao(t)},so=function(t){Vo(),io(t),Ma(t),uo(t);var a=Jt(t,"on_display_block"),o=Jt(t,"on_display_none");if(e.elements.backModals[t].classList.remove(o),e.elements.backModals[t].classList.add(a),e.elements.attLinkModals[t].classList.remove(o),e.elements.attLinkModals[t].classList.add(a),La(t)){var l=e.elements.attLinkTexts[t],n=e.elements.attLinkHrefs[t];l.value=e.variables.editRanges[t].toString(),n.value="",e.variables.editRanges[t].collapsed?(l.removeAttribute("readonly"),l.focus()):(l.setAttribute("readonly","true"),n.focus()),ko(t)}else ko(t)},ro=function(t){e.variables.placeholderIsVisible[t]&&e.elements.textareas[t].innerText.length<=1&&e.elements.textareas[t].textContent.length<1&&e.elements.textareas[t].childNodes.length<=1&&e.elements.textareas[t].childNodes[0]&&e.elements.textareas[t].childNodes[0].childNodes.length<=1&&e.elements.textareas[t].childNodes[0].childNodes[0]&&"BR"===e.elements.textareas[t].childNodes[0].childNodes[0].tagName&&(e.elements.placeholders[t].classList.remove(Jt(t,"on_display_none")),e.elements.placeholders[t].classList.add(Jt(t,"on_display_block")))},co=function(t){e.variables.placeholderIsVisible[t]&&(e.elements.placeholders[t].classList.remove(Jt(t,"on_display_block")),e.elements.placeholders[t].classList.add(Jt(t,"on_display_none")))},uo=function(t){null!==e.elements.templates[t].offsetParent&&setTimeout((function(){e.elements.backModals[t].style.width=e.elements.templates[t].clientWidth+"px",e.elements.backModals[t].style.height=e.elements.templates[t].clientHeight+"px",e.elements.attLinkModals[t].style.width=.8*e.elements.textareas[t].clientWidth+"px",e.elements.attLinkModals[t].style.marginTop=.1*e.elements.templates[t].clientHeight+"px",e.elements.attFileModals[t].style.width=.8*e.elements.textareas[t].clientWidth+"px",e.elements.attFileModals[t].style.marginTop=.1*e.elements.templates[t].clientHeight+"px",e.elements.attImageModals[t].style.width=.8*e.elements.textareas[t].clientWidth+"px",e.elements.attImageModals[t].style.marginTop=.1*e.elements.templates[t].clientHeight+"px",e.elements.attVideoModals[t].style.width=.8*e.elements.textareas[t].clientWidth+"px",e.elements.attVideoModals[t].style.marginTop=.1*e.elements.templates[t].clientHeight+"px",e.elements.helpModals[t].style.width=.8*e.elements.textareas[t].clientWidth+"px",e.elements.helpModals[t].style.marginTop=.1*e.elements.templates[t].clientHeight+"px"}),500)},po=function(t){setTimeout((function(){e.variables.placeholderIsVisible[t]&&(co(t),null!==e.elements.textareas[t].offsetParent&&(e.elements.placeholders[t].style.top=e.elements.textareas[t].offsetTop+e.variables.placeholderAddTop[t]+"px",e.elements.placeholders[t].style.left=e.elements.textareas[t].offsetLeft+e.variables.placeholderAddLeft[t]+"px",e.elements.placeholders[t].style.width=e.variables.placeholderWidth[t]?e.variables.placeholderWidth[t]:e.elements.textareas[t].clientWidth+"px",ro(t)))}),100)},mo=function(t){"BOTTOM"===e.variables.toolPositions[t]&&(e.elements.attLinkTooltips[t].style.bottom=e.elements.tools[t].style.height,e.elements.attImageAndVideoTooltips[t].style.bottom=e.elements.tools[t].style.height)},go=function(t){e.elements.attLinkTooltips[t].style.opacity="0",e.elements.attLinkTooltips[t].style.height="0",e.elements.attImageAndVideoTooltips[t].style.opacity="0",e.elements.attImageAndVideoTooltips[t].style.height="0"},fo=function(t){var a=e.variables.editStartNodes[t].parentElement,o=a.getAttribute("href"),l=a.getAttribute("download"),n=Jt(t,"on_display_inline_block"),i=Jt(t,"on_display_none");e.elements.attLinkTooltipEditButtons[t].classList.remove(i),e.elements.attLinkTooltipUnlinkButtons[t].classList.remove(i),e.elements.attLinkTooltipEditButtons[t].classList.add(n),e.elements.attLinkTooltipUnlinkButtons[t].classList.add(n),o&&(e.elements.attLinkTooltipHrefs[t].setAttribute("href",o),e.elements.attLinkTooltipHrefs[t].textContent=o.length>25?o.substr(0,25)+"...":o),l&&(e.elements.attLinkTooltipHrefs[t].setAttribute("download",l),e.elements.attLinkTooltipHrefs[t].textContent="download : "+l,e.elements.attLinkTooltipEditButtons[t].classList.remove(n),e.elements.attLinkTooltipUnlinkButtons[t].classList.remove(n),e.elements.attLinkTooltipEditButtons[t].classList.add(i),e.elements.attLinkTooltipUnlinkButtons[t].classList.add(i)),e.elements.attLinkTooltips[t].style.opacity="0.95",e.elements.attLinkTooltips[t].style.height=54*e.variables.sizeRates[t]*.8+"px",e.elements.attLinkTooltips[t].style.lineHeight=54*e.variables.sizeRates[t]*.8+"px"},bo=function(t){var a=e.variables.editStartNodes[t],o=ma(fa(a).style);switch(o.width&&(e.elements.attImageAndVideoTooltipWidthInputs[t].value=da(o.width)),o.float){case"left":e.elements.attImageAndVideoTooltipFloatRadioLefts[t].checked=!0;break;case"right":e.elements.attImageAndVideoTooltipFloatRadioRights[t].checked=!0;break;default:e.elements.attImageAndVideoTooltipFloatRadioNones[t].checked=!0}if(e.elements.attImageAndVideoTooltipShapeRadioSquares[t].checked=!0,o["border-radius"]){var l=da(o["border-radius"]);l>0?e.elements.attImageAndVideoTooltipShapeRadioRadiuses[t].checked=!0:l>=50&&(e.elements.attImageAndVideoTooltipShapeRadioCircles[t].checked=!0)}e.elements.attImageAndVideoTooltips[t].style.opacity="0.9",e.elements.attImageAndVideoTooltips[t].style.height=54*e.variables.sizeRates[t]*.8*2+"px",e.elements.attImageAndVideoTooltips[t].style.lineHeight=54*e.variables.sizeRates[t]*.7+"px"},vo=function(t){t.value||(t.value=100);var a=t.value,o=na(t);if(o){var l=e.variables.editStartNodes[o];"IMG"!==l.tagName&&"IFRAME"!==l.tagName||(a<10&&(a=10),a>100&&(a=100),t.value=a,l.style.width=a+"%",e.variables.editStartNodes[o].parentNode.replaceChild(l,e.variables.editStartNodes[o]),e.variables.editStartNodes[o]=l)}},ho=function(e,t){if(null===e.offsetParent)return!1;var a=e.getBoundingClientRect();if(null===t.offsetParent)return!1;var o=t.getBoundingClientRect(),l=o.top+window.pageYOffset,n=o.bottom+window.pageYOffset,i=a.top+window.pageYOffset,s=a.bottom+window.pageYOffset;return l>=i&&n<=s},xo=function(t){for(var a=e.elements.tools[t].childNodes,o=Jt(t,"on_display_inline_block"),l=Jt(t,"on_display_none"),n=a.length-1;n>=0;n--)a[n].classList.add(o),a[n].classList.remove(l);if(null!==e.elements.tools[t].offsetParent)if(e.variables.toolToggles[t])for(e.elements.tools[t].style.height=e.variables.toolDefaultLines[t]*(52*e.variables.sizeRates[t])+"px",n=a.length-1;n>=0;n--)ho(e.elements.tools[t],a[n])||(a[n].classList.remove(o),a[n].classList.add(l));else{var i,s,r;for(n=a.length-1;n>=0;n--)if(null!==a[n].offsetParent){s=a[n];break}if(null===e.elements.tools[t].offsetParent)return;i=window.pageYOffset+e.elements.tools[t].getBoundingClientRect().top,r=window.pageYOffset+s.getBoundingClientRect().top-i+52*e.variables.sizeRates[t],e.elements.tools[t].style.height=r+"px"}},_o=function(t){e.elements.attLinkTexts[t].value="",e.elements.attLinkHrefs[t].value="",e.elements.attLinkIsBlankCheckboxes[t].checked=!1},ko=function(t){return e.elements.attLinkTexts[t].value?e.elements.attLinkHrefs[t].value?(e.elements.attLinkValidCheckboxes[t].checked=!0,e.elements.attLinkValidCheckTexts[t].style.color=Ta(e.colors.color8[t]),void(e.elements.attLinkValidCheckTexts[t].textContent=e.languageSet[e.variables.languages[t]].thanks)):(e.elements.attLinkValidCheckboxes[t].checked=!1,e.elements.attLinkValidCheckTexts[t].style.color=Ta(e.colors.color9[t]),void(e.elements.attLinkValidCheckTexts[t].textContent=e.languageSet[e.variables.languages[t]].attLinkInLinkTooltip)):(e.elements.attLinkValidCheckboxes[t].checked=!1,e.elements.attLinkValidCheckTexts[t].style.color=Ta(e.colors.color9[t]),void(e.elements.attLinkValidCheckTexts[t].textContent=e.languageSet[e.variables.languages[t]].attLinkInTextTooltip))},Bo=function(t){if(!e.elements.attVideoEmbedIds[t].value)return e.elements.attVideoValidCheckboxes[t].checked=!1,e.elements.attVideoValidCheckTexts[t].style.color=Ta(e.colors.color9[t]),void(e.elements.attVideoValidCheckTexts[t].textContent=e.languageSet[e.variables.languages[t]].attVideoEmbedIdTooltip);e.elements.attVideoValidCheckboxes[t].checked=!0,e.elements.attVideoValidCheckTexts[t].style.color=Ta(e.colors.color8[t]),e.elements.attVideoValidCheckTexts[t].textContent=e.languageSet[e.variables.languages[t]].thanks},To=function(t){for(var a=new Object,o=Object.keys(e.variables.attTempFiles[t]),l=0;l<o.length;l++)e.variables.attFileAcceptTypes[t].length>0?e.variables.attFileAcceptTypes[t].includes(e.variables.attTempFiles[t][o[l]].type)&&(a[o[l]]=e.variables.attTempFiles[t][o[l]]):a[o[l]]=e.variables.attTempFiles[t][o[l]],a[o[l]]&&(e.variables.attFilePreventTypes[t].includes(a[o[l]].type)?(No("["+a[o[l]].name+"] "+e.languageSet[e.variables.languages[t]].attPreventType),delete a[o[l]]):a[o[l]].size>=e.variables.attFileMaxSizes[t]&&(No("["+a[o[l]].name+"] "+e.languageSet[e.variables.languages[t]].attOverSize),delete a[o[l]]));e.variables.attTempFiles[t]=a},So=function(t){if(e.variables.attTempFiles[t].length<=0)return e.elements.attFileUploadDivs[t].style.removeProperty("line-height"),void(e.elements.attFileUploadDivs[t].textContent=e.languageSet[e.variables.languages[t]].attFileUploadDiv);e.elements.attFileUploadDivs[t].style.lineHeight="unset",e.elements.attFileUploadDivs[t].replaceChildren();for(var a,o=Object.keys(e.variables.attTempFiles[t]),l=0;l<o.length;l++)a=qa(e.variables.attTempFiles[t][o[l]].name,"P","display:block;padding:0.5em 0;",{title:e.languageSet[e.variables.languages[t]].attFileListTooltip,uuid:o[l]}),e.elements.attFileUploadDivs[t].appendChild(a)},Io=function(t){for(var a=new Object,o=Object.keys(e.variables.attTempImages[t]),l=0;l<o.length;l++)e.variables.attImageAcceptTypes[t].length>0?e.variables.attImageAcceptTypes[t].includes(e.variables.attTempImages[t][o[l]].type)&&(a[o[l]]=e.variables.attTempImages[t][o[l]]):a[o[l]]=e.variables.attTempImages[t][o[l]],a[o[l]]&&(e.variables.attImagePreventTypes[t].includes(a[o[l]].type)?(No("["+a[o[l]].name+"] "+e.languageSet[e.variables.languages[t]].attPreventType),delete a[o[l]]):a[o[l]].size>=e.variables.attImageMaxSizes[t]&&(No("["+a[o[l]].name+"] "+e.languageSet[e.variables.languages[t]].attOverSize),delete a[o[l]]));e.variables.attTempImages[t]=a},yo=function(t){var a=Object.keys(e.variables.attTempImages[t]);if(!(a.length<=0)){var o,l;e.elements.attImageUploadButtonAndViews[t].replaceChildren();for(var n=0;n<a.length;n++)o=e.variables.attTempImages[t][a[n]],(l=document.createElement("img")).src=URL.createObjectURL(o),l.style.width="auto",l.style.height="100%",l.style.display="inline-block",l.style.margin="0 5px",e.elements.attImageUploadButtonAndViews[t].appendChild(l);e.elements.attImageURLs[t].value="",e.elements.attImageURLs[t].setAttribute("readonly","true")}},Eo=function(t){delete e.variables.attTempFiles[t],e.variables.attTempFiles[t]=new Object,e.elements.attFileUploadDivs[t].replaceChildren(),e.elements.attFileUploadDivs[t].textContent=e.languageSet[e.variables.languages[t]].attFileUploadDiv,e.elements.attFileUploadDivs[t].style.lineHeight=130*e.variables.sizeRates[t]+"px",e.elements.attFileUploads[t].value=""},Ao=function(t){delete e.variables.attTempImages[t],e.variables.attTempImages[t]=new Object,e.elements.attImageUploadButtonAndViews[t].replaceChildren(),e.elements.attImageUploadButtonAndViews[t].textContent=e.languageSet[e.variables.languages[t]].attImageUploadButtonAndView,e.elements.attImageUploads[t].value="",e.elements.attImageURLs[t].value="",e.elements.attImageURLs[t].removeAttribute("readonly")},Co=function(){if("DEBUG"===e.variables.logMode)for(var t=0;t<arguments.length;t++)console.log(arguments[t]);else{if("INFO"!==e.variables.logMode)return;console.log(arguments[0])}},No=function(t){Co("Vanillanote._beforeAlert","params :","(message)",t),e._beforeAlert(t)&&(Co("window.alert","params :","(message)",t),alert(t))},Lo=function(){var t=na(this),a=e.elements.textareas[t],o=a.querySelectorAll("[uuid]"),l={};for(var n in e.variables.attFiles[t])e.variables.attFiles[t].hasOwnProperty(n)&&(l[n]=e.variables.attFiles[t][n]);for(var n in e.variables.attImages[t])e.variables.attImages[t].hasOwnProperty(n)&&(l[n]=e.variables.attImages[t][n]);for(var i,s=Object.keys(l),r=s.length,c={},d=0;d<r;d++){i=0;for(var u=0;u<o.length;u++)s[d]===o[u].getAttribute("uuid")&&i++;i>0&&(c[s[d]]=l[s[d]])}return{noteIndex:t,textarea:a,files:c}},Ro=function(){return e},Vo=function(){for(var t=0;t<e.elements.textareas.length;t++)e.variables.useMobileActiveMode[t]&&no(e.elements.textareas[t])},wo=(t={note_observer:new MutationObserver((function(t){var a;t.forEach((function(e){a=e.target}));var o=na(a);o&&(e.variables.lastActiveNote=Number(o),e.variables.recodeNotes[o].length>=e.variables.recodeLimit[o]?(e.variables.recodeNotes[o].shift(),e.variables.recodeNotes[o].push(e.elements.textareas[o].cloneNode(!0))):(e.variables.recodeContings[o]=e.variables.recodeContings[o]+1,e.variables.recodeContings[o]<e.variables.recodeNotes[o].length&&e.variables.recodeNotes[o].splice(e.variables.recodeContings[o]),e.variables.recodeNotes[o].push(e.elements.textareas[o].cloneNode(!0))))})),window_onResize:function(t){if(e.variables.canEvents){ya("resize");for(var a=0;a<e.elements.tools.length;a++)xo(a),mo(a),uo(a),po(a)}},window_resizeViewport:function(t){if(window.visualViewport&&e.variables.lastScreenHeight!==window.visualViewport.height){for(var a=0,o=0;o<e.variables.useMobileActiveMode.length;o++)e.variables.useMobileActiveMode[o]&&a++;if(0!==a){for(var l=document.activeElement,n=!1;l;){if(l.tagName===(e.variables.noteName+"-textarea").toUpperCase()){n=!0;break}l=l.parentNode}if(n&&e.variables.lastScreenHeight>window.visualViewport.height){var i=na(l),s=da(e.elements.tools[i].style.height)?da(e.elements.tools[i].style.height):93.6;e.variables.mobileKeyboardExceptHeight=window.visualViewport.height-s/2,function(t,a){e.variables.useMobileActiveMode[a]&&(t.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout((function(){!function(t,a){"px"===(e.variables.textareaOriginHeights[a].replace(/[-+]?[0-9]*\.?[0-9]+/g,"")||null)&&e.variables.mobileKeyboardExceptHeight<da(e.variables.textareaOriginHeights[a])&&e.variables.mobileKeyboardExceptHeight<t.offsetHeight&&(t.style.height=e.variables.mobileKeyboardExceptHeight+"px")}(t,a)}),100))}(l,i)}e.variables.lastScreenHeight<window.visualViewport.height&&Vo(),e.variables.lastScreenHeight=window.visualViewport.height}}},toolToggleButton_onClick:function(t){var a=na(t.target);if(a){var o=e.elements.toolToggleButtons[a].firstChild;e.variables.toolToggles[a]=!e.variables.toolToggles[a],e.variables.toolToggles[a]?(o.textContent="arrow_drop_down",xo(a),mo(a)):(o.textContent="arrow_drop_up",xo(a),mo(a)),e.variables.preventChangeScroll=2,ia()||Ca(a)}},paragraphStyleSelect_onClick:function(e){var t=na(e.target);t&&(Ha(e.target),ia()||Ca(t))},styleNomal_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader1_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader2_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader3_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader4_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader5_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},styleHeader6_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t),Ha(t)},boldButton_onClick:function(t){var a=na(t.target);a&&(e.variables.boldToggles[a]=!e.variables.boldToggles[a],ia()||Ua(e.elements.boldButtons[a],e.variables.boldToggles[a]),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))},underlineButton_onClick:function(t){var a=na(t.target);a&&(e.variables.underlineToggles[a]=!e.variables.underlineToggles[a],ia()||Ua(e.elements.underlineButtons[a],e.variables.underlineToggles[a]),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))},italicButton_onClick:function(t){var a=na(t.target);a&&(e.variables.italicToggles[a]=!e.variables.italicToggles[a],ia()||Ua(e.elements.italicButtons[a],e.variables.italicToggles[a]),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))},ulButton_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t)},olButton_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Qa(t)},textAlignSelect_onClick:function(e){var t=na(e.target);t&&(Ha(e.target),ia()||Ca(t))},textAlignLeft_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Za(t),Ha(t)},textAlignCenter_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Za(t),Ha(t)},textAlignRight_onClick:function(e){var t=e.target;t.classList.contains(ta())&&(t=t.parentNode),Za(t),Ha(t)},attLinkButton_onClick:function(e){var t=na(e.target);t&&so(t)},attLinkModal_onClick:function(e){},attLinkText_onInput:function(e){var t=na(e.target);t&&ko(t)},attLinkText_onBlur:function(e){var t=na(e.target);t&&ko(t)},attLinkHref_onInput:function(e){var t=na(e.target);t&&ko(t)},attLinkHref_onBlur:function(e){var t=na(e.target);t&&ko(t)},attLinkInsertButton_onClick:function(t){var a=na(t.target);if(a)if(La(a)){if(e.elements.attLinkValidCheckboxes[a].checked){var o=e.elements.attLinkTexts[a],l=e.elements.attLinkHrefs[a],n=e.elements.attLinkIsBlankCheckboxes[a];if(e.variables.editRanges[a].collapsed){var i=document.createElement("A"),s=document.createTextNode(o.value);i.append(s),i.setAttribute("href",l.value),i.setAttribute("class",ea(a,"linker")),i.setAttribute("style",ga(Ga(a))),n.checked&&i.setAttribute("target","_blank"),e.variables.editRanges[a].insertNode(i),Aa(i,1,i,1)}else{var r=new Object;r.href=l.value,r.class=ea(a,"linker"),n.checked&&(r.target="_blank"),Ja(a,null,"a",r)}io(a)}}else io(a)},attLinkTooltipEditButton_onClick:function(t){var a=na(t.target);if(a){var o=Oa(e.variables.editStartElements[a],"A"),l=Ya(e.variables.editStartElements[a],"A"),n=o[o.length-1],i=l[l.length-1],s=Aa(n.firstChild,0,i.firstChild,i.firstChild.length);Na(a,s),so(a)}},attLinkTooltipUnlinkButton_onClick:function(t){var a=na(t.target);if(a){var o=Oa(e.variables.editStartElements[a],"A"),l=Ya(e.variables.editStartElements[a],"A"),n=o[o.length-1],i=l[l.length-1],s=Aa(n.firstChild,0,i.firstChild,i.firstChild.length);Na(a,s),Ja(a,null,"SPAN",{})}},attFileButton_onClick:function(t){var a=na(t.target);if(a){Vo(),io(a),Ma(a),uo(a);var o=Jt(a,"on_display_block"),l=Jt(a,"on_display_none");e.elements.backModals[a].classList.remove(l),e.elements.backModals[a].classList.add(o),e.elements.attFileModals[a].classList.remove(l),e.elements.attFileModals[a].classList.add(o)}},attFileModal_onClick:function(e){},attFileUploadButton_onClick:function(t){var a=na(t.target);a&&e.elements.attFileUploads[a].click()},attFileUploadDiv_onDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},attFileUploadDiv_onDrop:function(t){t.preventDefault();var a=na(t.target);if(a){var o=Array.from(t.dataTransfer.files);o.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));for(var l=0;l<o.length;l++)e.variables.attTempFiles[a][la()]=o[l];To(a),So(a)}},attFileUploadDiv_onClick:function(t){var a=t.target.getAttribute("uuid");if(a){var o=na(t.target);o&&(delete e.variables.attTempFiles[o][a],t.target.remove(),e.elements.attFileUploadDivs[o].childNodes.length<=0&&(e.elements.attFileUploadDivs[o].textContent=e.languageSet[e.variables.languages[o]].attFileUploadDiv,e.elements.attFileUploadDivs[o].style.lineHeight=130*e.variables.sizeRates[o]+"px"))}},attFileUpload_onInput:function(t){var a=na(t.target);if(a){var o=Array.from(t.target.files);o.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));for(var l=0;l<o.length;l++)e.variables.attTempFiles[a][la()]=o[l];To(a),So(a)}},attFileUpload_onBlur:function(e){na(e.target)},attFileInsertButton_onClick:function(t){var a=na(t.target);if(a)if(La(a))if(e.variables.editStartUnitElements[a]){var o=Object.keys(e.variables.attTempFiles[a]);if(o.length<=0)io(a);else{for(var l,n,i,s=e.variables.editStartUnitElements[a],r=o.length-1;r>=0;r--)l=document.createElement(s.tagName),(n=qa("","a","",{class:ea(a,"downloader"),uuid:o[r],"data-note-index":a,href:URL.createObjectURL(e.variables.attTempFiles[a][o[r]]),download:e.variables.attTempFiles[a][o[r]].name,style:ga(Ga(a))})).innerText="download : "+e.variables.attTempFiles[a][o[r]].name,l.appendChild(n),s.parentNode.insertBefore(l,s.nextSibling),e.variables.attFiles[a][o[r]]=e.variables.attTempFiles[a][o[r]],r===o.length-1&&(i=l);io(a),Aa(i,1,i,1)}}else io(a);else io(a)},attImageButton_onClick:function(t){var a=na(t.target);if(a){Vo(),io(a),Ma(a),uo(a);var o=Jt(a,"on_display_block"),l=Jt(a,"on_display_none");e.elements.backModals[a].classList.remove(l),e.elements.backModals[a].classList.add(o),e.elements.attImageModals[a].classList.remove(l),e.elements.attImageModals[a].classList.add(o)}},attImageModal_onClick:function(e){},attImageUploadButtonAndView_onDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},attImageUploadButtonAndView_onDrop:function(t){t.preventDefault();var a=na(t.target);if(a){for(var o=Array.from(t.dataTransfer.files),l=0;l<o.length;l++)e.variables.attTempImages[a][la()]=o[l];Io(a),yo(a)}},attImageUploadButtonAndView_onClick:function(t){var a=na(t.target);a&&e.elements.attImageUploads[a].click()},attImageViewPreButtion_onClick:function(t){var a=na(t.target);if(a){var o=e.elements.attImageUploadButtonAndViews[a].offsetWidth/1.5+10;e.elements.attImageUploadButtonAndViews[a].scrollLeft-=o}},attImageViewNextButtion_onClick:function(t){var a=na(t.target);if(a){var o=e.elements.attImageUploadButtonAndViews[a].offsetWidth/1.5+10;e.elements.attImageUploadButtonAndViews[a].scrollLeft+=o}},attImageUpload_onInput:function(t){var a=na(t.target);if(a){for(var o=Array.from(t.target.files),l=0;l<o.length;l++)e.variables.attTempImages[a][la()]=o[l];Io(a),yo(a)}},attImageUpload_onBlur:function(e){na(e.target)},attImageURL_onInput:function(t){var a=na(t.target);if(a){var o=t.target.value;o?(e.elements.attImageUploadButtonAndViews[a].replaceChildren(),tempEl=document.createElement("img"),tempEl.src=o,tempEl.style.width="auto",tempEl.style.height="100%",tempEl.style.display="inline-block",tempEl.style.margin="0 5px",e.elements.attImageUploadButtonAndViews[a].appendChild(tempEl)):e.elements.attImageUploadButtonAndViews[a].textContent=e.languageSet[e.variables.languages[a]].attImageUploadButtonAndView}},attImageURL_onBlur:function(e){na(e.target)},attImageInsertButton_onClick:function(t){var a=na(t.target);if(a)if(La(a))if(e.variables.editStartUnitElements[a]){if(e.elements.attImageURLs[a].value){var o=e.elements.attImageURLs[a].value,l=e.variables.editStartUnitElements[a],n="width: 100%; overflow:hidden;";return s=document.createElement(l.tagName),r=qa("","img","",{class:ea(a,"image_viewer"),"data-note-index":a,src:o,style:n,title:""}),s.appendChild(r),l.parentNode.insertBefore(s,l.nextSibling),io(a),void Aa(s,0,s,0)}var i=Object.keys(e.variables.attTempImages[a]);if(i.length>0){l=e.variables.editStartUnitElements[a],n="width: 100%; overflow:hidden;";for(var s,r,c,d=i.length-1;d>=0;d--)e.variables.attImages[a][i[d]]=e.variables.attTempImages[a][i[d]],s=document.createElement(l.tagName),r=qa("","img","",{class:ea(a,"image_viewer"),uuid:i[d],"data-note-index":a,src:URL.createObjectURL(e.variables.attImages[a][i[d]]),style:n,title:""}),s.appendChild(r),l.parentNode.insertBefore(s,l.nextSibling),0===d&&(c=s);return io(a),void Aa(c,0,c,0)}io(a)}else io(a);else io(a)},attVideoButton_onClick:function(t){var a=na(t.target);if(a){Vo(),io(a);var o=Jt(a,"on_display_block"),l=Jt(a,"on_display_none");e.elements.backModals[a].classList.remove(l),e.elements.backModals[a].classList.add(o),e.elements.attVideoModals[a].classList.remove(l),e.elements.attVideoModals[a].classList.add(o),e.elements.attVideoEmbedIds[a].value="",e.elements.attVideoWidthes[a].value=100,e.elements.attVideoHeights[a].value=500,Bo(a)}},attVideoModal_onClick:function(e){},attVideoEmbedId_onInput:function(e){var t=na(e.target);t&&Bo(t)},attVideoEmbedId_onBlur:function(e){var t=na(e.target);t&&Bo(t)},attVideoWidth_onInput:function(e){if(e.target.value){var t=e.target.value;sa(t)||(e.target.value="")}},attVideoWidth_onBlur:function(e){e.target.value||(e.target.value=100);var t=e.target.value;t<10&&(t=10),t>100&&(t=100),e.target.value=t},attVideoHeight_onInput:function(e){if(e.target.value){var t=e.target.value;sa(t)||(e.target.value="")}},attVideoHeight_onBlur:function(e){e.target.value||(e.target.value=500);var t=e.target.value;t<50&&(t=50),t>1e3&&(t=1e3),e.target.value=t},attVideoInsertButton_onClick:function(t){var a=na(t.target);if(a)if(La(a)){if(e.elements.attVideoValidCheckboxes[a].checked)if(e.variables.editStartUnitElements[a]){if(e.elements.attVideoEmbedIds[a].value){var o,l,n="https://www.youtube.com/embed/"+e.elements.attVideoEmbedIds[a].value,i=e.variables.editStartUnitElements[a],s="overflow:hidden;width:"+e.elements.attVideoWidthes[a].value+"%;height:"+e.elements.attVideoHeights[a].value+"px;";return o=document.createElement(i.tagName),l=qa("","iframe","",{class:ea(a,"video_viewer"),"data-note-index":a,src:n,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:"",style:s}),o.appendChild(l),i.parentNode.insertBefore(o,i.nextSibling),io(a),void Aa(o,0,o,0)}io(a)}else io(a)}else io(a)},attImageAndVideoTooltipWidthInput_onInput:function(e){if(e.target.value){var t=e.target.value;sa(t)||(e.target.value="")}},attImageAndVideoTooltipWidthInput_onBlur:function(e){vo(e.target)},attImageAndVideoTooltipWidthInput_onKeyup:function(e){"Enter"===e.key&&vo(e.target)},attImageAndVideoTooltipFloatRadioNone_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a].cloneNode(!0);"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.float="none",e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},attImageAndVideoTooltipFloatRadioLeft_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a].cloneNode(!0);"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.float="left",e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},attImageAndVideoTooltipFloatRadioRight_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a].cloneNode(!0);"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.float="right",e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},attImageAndVideoTooltipShapeRadioSquare_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a];"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.removeProperty("border-radius"),e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},attImageAndVideoTooltipShapeRadioRadius_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a];"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.borderRadius="5%",e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},attImageAndVideoTooltipShapeRadioCircle_onClick:function(t){var a=na(t.target);if(a){var o=e.variables.editStartNodes[a];"IMG"!==o.tagName&&"IFRAME"!==o.tagName||(o.style.borderRadius="50%",e.variables.editStartNodes[a].parentNode.replaceChild(o,e.variables.editStartNodes[a]),e.variables.editStartNodes[a]=o)}},fontSizeInputBox_onClick:function(t){var a=na(t.target);a&&(e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))},fontSizeInput_onClick:function(e){},fontSizeInput_onInput:function(t){if(t.target.value){var a=t.target.value,o=na(t.target);o&&(sa(a)?e.variables.fontSizes[o]=a:t.target.value="")}},fontSizeInput_onBlur:function(t){var a=na(t.target);if(a){t.target.value||(t.target.value=e.variables.fontSizes[a]);var o=Number(t.target.value);return o>120?(t.target.value="120",void(e.variables.fontSizes[a]=t.target.value)):o<6?(t.target.value="6",void(e.variables.fontSizes[a]=t.target.value)):void(e.variables.fontSizes[a]=t.target.value)}},letterSpacingInputBox_onClick:function(t){var a=na(t.target);a&&(e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))},letterSpacingInput_onClick:function(e){},letterSpacingInput_onInput:function(t){if(t.target.value){var a=t.target.value,o=na(t.target);o&&(ra(a)?e.variables.letterSpacings[o]=a:t.target.value="")}},letterSpacingInput_onBlur:function(t){var a=na(t.target);if(a){if(!t.target.value)return t.target.value="0",void(e.variables.letterSpacings[a]=t.target.value);var o=Number(t.target.value);return o>30?(t.target.value="30",void(e.variables.letterSpacings[a]=t.target.value)):o<-5?(t.target.value="-5",void(e.variables.letterSpacings[a]=t.target.value)):void(e.variables.letterSpacings[a]=t.target.value)}},lineHeightInputBox_onClick:function(e){}},o(o(o(o(o(o(o(o(o(o(t,"lineHeightInputBox_onClick",(function(t){var a=na(t.target);a&&(e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"lineHeightInput_onClick",(function(e){})),"lineHeightInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);o&&(sa(a)?e.variables.lineHeights[o]=t.target.value:t.target.value="")}})),"lineHeightInput_onBlur",(function(t){var a=na(t.target);if(a){t.target.value||(t.target.value=e.variables.lineHeights[a]);var o=Number(t.target.value);return o>150?(t.target.value="150",void(e.variables.lineHeights[a]=t.target.value)):o<6?(t.target.value="6",void(e.variables.lineHeights[a]=t.target.value)):void(e.variables.lineHeights[a]=t.target.value)}})),"fontFamilySelect_onClick",(function(e){var t=na(e.target);t&&(Ha(e.target),ia()||Ca(t))})),"colorTextSelect_onClick",(function(e){var t=na(e.target);t&&(Ha(e.target),ia()||Ca(t))})),"colorTextSelectBox_onClick",(function(e){})),"colorTextRInput_onClick",(function(e){})),"colorTextRInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorTextRs[o]=a,e.elements.colorText0s[o].style.backgroundColor="#"+e.variables.colorTextRs[o]+e.variables.colorTextGs[o]+e.variables.colorTextBs[o])):(a=e.variables.colorTextRs[o],void(t.target.value=a))}})),"colorTextRInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorTextRs[o]):t.target.value=e.variables.colorTextRs[o])})),o(o(o(o(o(o(o(o(o(o(t,"colorTextGInput_onClick",(function(e){})),"colorTextGInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorTextGs[o]=a,e.elements.colorText0s[o].style.backgroundColor="#"+e.variables.colorTextRs[o]+e.variables.colorTextGs[o]+e.variables.colorTextBs[o])):(a=e.variables.colorTextGs[o],void(t.target.value=a))}})),"colorTextGInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorTextGs[o]):t.target.value=e.variables.colorTextGs[o])})),"colorTextBInput_onClick",(function(e){})),"colorTextBInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorTextBs[o]=a,e.elements.colorText0s[o].style.backgroundColor="#"+e.variables.colorTextRs[o]+e.variables.colorTextGs[o]+e.variables.colorTextBs[o])):(a=e.variables.colorTextBs[o],void(t.target.value=a))}})),"colorTextBInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorTextBs[o]):t.target.value=e.variables.colorTextBs[o])})),"colorTextOpacityInput_onClick",(function(e){})),"colorTextOpacityInput_onInput",(function(t){if("01"!==t.target.value&&"10"!==t.target.value||(t.target.value=t.data),t.target.value){var a=t.target.value,o=na(t.target);if(o){if(!ra(a))return a=e.variables.colorTextOs[o],void(t.target.value=a);a.length>=3&&a<.1&&(a=.1),a>1&&(a=1),a>=.1&&a<=1&&(t.target.value=Math.round(10*a)/10),e.variables.colorTextOs[o]=a,e.elements.colorText0s[o].style.opacity=e.variables.colorTextOs[o]}}})),"colorTextOpacityInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ra(a)||(t.target.value=e.variables.colorTextOs[o]))})),"colorText0_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]="#"+e.variables.colorTextRs[a]+e.variables.colorTextGs[a]+e.variables.colorTextBs[a],e.variables.colorTextOpacitys[a]=e.variables.colorTextOs[a],ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],"0"===e.variables.colorTextOpacitys[a]?1:e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),o(o(o(o(o(o(o(o(o(o(t,"colorText1_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color14[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText2_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color15[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText3_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color16[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText4_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color17[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText5_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color18[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText6_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color19[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorText7_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorTextRGBs[a]=Ta(e.colors.color20[a]),e.variables.colorTextOpacitys[a]="1",ia()||(e.elements.colorTextSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorTextRGBs[a],e.variables.colorTextOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBackSelect_onClick",(function(e){var t=na(e.target);t&&(Ha(e.target),ia()||Ca(t))})),"colorBackSelectBox_onClick",(function(e){})),"colorBackRInput_onClick",(function(e){})),o(o(o(o(o(o(o(o(o(o(t,"colorBackRInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorBackRs[o]=a,e.elements.colorBack0s[o].style.backgroundColor="#"+e.variables.colorBackRs[o]+e.variables.colorBackGs[o]+e.variables.colorBackBs[o])):(a=e.variables.colorBackRs[o],void(t.target.value=a))}})),"colorBackRInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorBackRs[o]):t.target.value=e.variables.colorBackRs[o])})),"colorBackGInput_onClick",(function(e){})),"colorBackGInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorBackGs[o]=a,e.elements.colorBack0s[o].style.backgroundColor="#"+e.variables.colorBackRs[o]+e.variables.colorBackGs[o]+e.variables.colorBackBs[o])):(a=e.variables.colorBackGs[o],void(t.target.value=a))}})),"colorBackGInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorBackGs[o]):t.target.value=e.variables.colorBackGs[o])})),"colorBackBInput_onClick",(function(e){})),"colorBackBInput_onInput",(function(t){if(t.target.value){var a=t.target.value,o=na(t.target);if(o)return ca(a)?void(2===a.length&&(e.variables.colorBackBs[o]=a,e.elements.colorBack0s[o].style.backgroundColor="#"+e.variables.colorBackRs[o]+e.variables.colorBackGs[o]+e.variables.colorBackBs[o])):(a=e.variables.colorBackBs[o],void(t.target.value=a))}})),"colorBackBInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ca(a)?2!==a.length&&(t.target.value=e.variables.colorBackBs[o]):t.target.value=e.variables.colorBackBs[o])})),"colorBackOpacityInput_onClick",(function(e){})),"colorBackOpacityInput_onInput",(function(t){if("01"!==t.target.value&&"10"!==t.target.value||(t.target.value=t.data),t.target.value){var a=t.target.value,o=na(t.target);if(o){if(!ra(a))return a=e.variables.colorBackOs[o],void(t.target.value=a);a.length>=3&&a<.1&&(a=.1),a>1&&(a=1),a>=.1&&a<=1&&(t.target.value=Math.round(10*a)/10),e.variables.colorBackOs[o]=a,e.elements.colorBack0s[o].style.opacity=e.variables.colorBackOs[o]}}})),o(o(o(o(o(o(o(o(o(o(t,"colorBackOpacityInput_onBlur",(function(t){var a=t.target.value,o=na(t.target);o&&(ra(a)||(t.target.value=e.variables.colorBackOs[o]))})),"colorBack0_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]="#"+e.variables.colorBackRs[a]+e.variables.colorBackGs[a]+e.variables.colorBackBs[a],e.variables.colorBackOpacitys[a]=e.variables.colorBackOs[a],ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],"0"===e.variables.colorBackOpacitys[a]?1:e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack1_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color14[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack2_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color15[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack3_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color16[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack4_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color17[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack5_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color18[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack6_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color19[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"colorBack7_onClick",(function(t){var a=na(t.target);a&&(e.variables.colorBackRGBs[a]=Ta(e.colors.color20[a]),e.variables.colorBackOpacitys[a]="1",ia()||(e.elements.colorBackSelects[a].querySelector("."+ta()).style.color=_a(e.variables.colorBackRGBs[a],e.variables.colorBackOpacitys[a])),e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a)))})),"formatClearButton_onClick",(function(t){var a=na(t.target);a&&(e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?(za(a),Ca(a)):Ja(a,e.variables.defaultStyles[a]))})),o(o(o(o(o(o(o(o(o(o(t,"undoButton_onClick",(function(t){var a=na(t.target);a||(a=e.variables.lastActiveNote),wo.note_observer.disconnect(),e.variables.recodeContings[a]<=0||(e.variables.recodeContings[a]=e.variables.recodeContings[a]-1,Ea(e.elements.textareas[a],e.variables.recodeNotes[a][e.variables.recodeContings[a]]),oo())})),"redoButton_onClick",(function(t){var a=na(t.target);a||(a=e.variables.lastActiveNote),wo.note_observer.disconnect(),e.variables.recodeContings[a]>=e.variables.recodeNotes[a].length-1||(e.variables.recodeContings[a]=e.variables.recodeContings[a]+1,Ea(e.elements.textareas[a],e.variables.recodeNotes[a][e.variables.recodeContings[a]]),oo())})),"helpButton_onClick",(function(t){var a=na(t.target);if(a){Vo(),io(a),Ma(a),uo(a);var o=Jt(a,"on_display_block"),l=Jt(a,"on_display_none");e.elements.backModals[a].classList.remove(l),e.elements.backModals[a].classList.add(o),e.elements.helpModals[a].classList.remove(l),e.elements.helpModals[a].classList.add(o)}})),"helpModal_onClick",(function(e){})),"modalBack_onClick",(function(e){var t=na(e.target);t&&io(t)})),"placeholder_onClick",(function(t){var a=na(t.target);a&&(co(a),e.elements.textareas[a].focus())})),"textarea_onClick",(function(e){var t=na(e.target);Ma(t)})),"textarea_onFocus",(function(e){var t=na(e.target);t&&(co(t),ao(t))})),"textarea_onBlur",(function(e){var t=na(e.target);t&&(ro(t),wo.note_observer.disconnect(),to(e.target),oo())})),"textarea_onKeydown",(function(t){var a=t.target;"Enter"===t.key&&(t.shiftKey||function(t){var a=na(t);if(a&&La(a)&&!(e.variables.editStartUnitElements[a]&&e.variables.editStartUnitElements[a].textContent||e.variables.editStartNodes[a]instanceof Element&&e.consts.EMPTY_ABLE_TAG.indexOf(e.variables.editStartNodes[a].tagName)>=0&&"BR"!==e.variables.editStartNodes[a].tagName)){var o,l,n=e.variables.editStartUnitElements[a].tagName;o=document.createElement(n),l=document.createElement("BR"),o.appendChild(l),o=ba(o,fa(e.variables.editStartUnitElements[a])),e.variables.editStartUnitElements[a].replaceWith(o),Aa(o,0,o,0)}}(a)),!t.ctrlKey&&!t.metaKey||"z"!==t.key&&"Z"!==t.key||(t.preventDefault(),wo.undoButton_onClick(t)),!t.ctrlKey&&!t.metaKey||"y"!==t.key&&"Y"!==t.key||(t.preventDefault(),wo.redoButton_onClick(t))})),o(o(o(t,"textarea_onKeyup",(function(e){var t=e.target,a=na(t);co(a),wo.note_observer.disconnect(),t.firstChild?(!e.ctrlKey&&!e.metaKey||"v"!==e.key&&"V"!==e.key||(e.preventDefault(),ao(a)),oo()):eo(t)})),"textarea_onBeforeinput",(function(t){!ia()&&t.data&&(wo.note_observer.disconnect(),function(t){var a=na(t.target);if(a&&e.variables.canEvents&&(ya("input"),La(a))){var o="",l=Ga(a),n=Ka(e.variables.editStartElements[a]);if("H"===e.variables.editStartUnitElements[a].tagName.substring(0,1)?(delete l["font-size"],delete l["letter-spacing"],delete l["line-height"]):!(e.variables.editStartElements[a]instanceof Element&&e.consts.UNIT_TAG.indexOf(e.variables.editStartElements[a].tagName)<0)||n["font-size"]&&n["line-height"]||(n=l,ba(e.variables.editStartElements[a],{style:ga(n)})),!ua(l,n)){o=ga(l);var i=document.createElement("span");if(i.setAttribute("class",e.variables.noteName+"-point"),i.appendChild(document.createTextNode("!")),e.variables.editRanges[a].collapsed){e.variables.editRanges[a].insertNode(i);try{Ja(a,Ga(a))}catch(e){}var s=document.getElementsByClassName(e.variables.noteName+"-point"),r=s[0];o?r.setAttribute("style",o):r.removeAttribute("style");for(var c=0;c<s.length;c++)s[c].removeAttribute("class");Aa(r.firstChild,0,r.firstChild,r.firstChild.length)}else Ja(a,Ga(a))}}}(t),oo())})),"document_onSelectionchange",(function(t){var a=window.getSelection();if(a&&!(a.rangeCount<1)){for(var o=a.getRangeAt(0),l=o.startContainer,n=o.startContainer,i=!1,s=!1;n;){if(l.tagName===(e.variables.noteName+"-textarea").toUpperCase()?i=!0:l=l.parentNode,n instanceof Element&&n.hasAttribute("data-vanillanote")){s=!0;break}n=n.parentNode}if(s){if(i){var r=l.getAttribute("data-note-index");Na(r,a)&&function(t,a){e.variables.useMobileActiveMode[a]&&(e.variables.preventChangeScroll>0?e.variables.preventChangeScroll--:e.variables.isSelectionProgress||(e.variables.isSelectionProgress=!0,setTimeout((function(){if(e.variables.isSelectionProgress=!1,La(a)){var o=sa(e.variables.editDragUnitElements[a].length/2)?e.variables.editDragUnitElements[a].length/2-1:Math.floor(e.variables.editDragUnitElements[a].length/2);e.variables.editDragUnitElements[a][e.variables.editDragUnitElements[a].length-1].offsetTop-e.variables.editDragUnitElements[a][0].offsetTop+e.variables.editDragUnitElements[a][e.variables.editDragUnitElements[a].length-1].offsetHeight>t.offsetHeight-30||function(t){var a=Jt(t,"on_display_block");return!!(e.elements.paragraphStyleSelectBoxes[t].classList.contains(a)||e.elements.textAlignSelectBoxes[t].classList.contains(a)||e.elements.fontFamilySelectBoxes[t].classList.contains(a)||e.elements.colorTextSelectBoxes[t].classList.contains(a)||e.elements.colorBackSelectBoxes[t].classList.contains(a))}(a)||(e.variables.editRanges[a].collapsed?lo(t,e.variables.editStartElements[a]):lo(t,e.variables.editDragUnitElements[a][o]))}}),50)))}(l,r)}}else for(var c=0;c<e.elements.notes.length;c++)za(c)}}))),Ko=function(e,t,o,l,n,i){var s;if(e=document.createElement(t),""!==o&&e.setAttribute("id",Jt(n,o)),e.setAttribute("data-note-index",n),e.setAttribute("class",ea(n,l)),i&&"object"==a(i)&&0!==Object.keys(i).length)if(i.isIcon){var r=document.createElement("span");r.setAttribute("class","material-symbols-rounded "+ta()+" "+oa()+" "+aa()+" "+Jt(n,"icon")),s=document.createTextNode(i.text),r.appendChild(s),i.iconStyle&&r.setAttribute("style",i.iconStyle),r.setAttribute("data-note-index",n),e.appendChild(r)}else s=document.createTextNode(i.text),e.appendChild(s);return e},Fo=function(t,a){t.addEventListener("click",(function(t){Co("Vanillanote.cssEvents.target_onBeforeClick","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onBeforeClick(t)&&t.target.classList.contains(oa())&&(Co("target_onClick","params :","(event)",t,"(target)",t.target),function(t){var a=t.target;a.classList.contains(e.variables.noteName+"_eventChildren")&&(a=a.parentNode);var o=a.getAttribute("data-note-index");o&&(a.classList.add(e.variables.noteName+"_"+o+"_on_active"),setTimeout((function(){a.classList.remove(e.variables.noteName+"_"+o+"_on_active")}),100))}(t),Co("Vanillanote.cssEvents.target_onAfterClick","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onAfterClick(t)),Co("Vanillanote.elementEvents."+a+"_onBeforeClick","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onBeforeClick"](t)&&(Co(a+"_onClick","params :","(event)",t,"(target)",t.target),wo[a+"_onClick"](t),Co("Vanillanote.elementEvents."+a+"_onAfterClick","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onAfterClick"](t),t.stopImmediatePropagation())}))},Oo=function(t,a){t.addEventListener("mouseover",(function(t){Co("Vanillanote.cssEvents.target_onBeforeMouseover","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onBeforeMouseover(t)&&t.target.classList.contains(aa())&&(Co("target_onMouseover","params :","(event)",t,"(target)",t.target),function(t){var a=t.target;a.classList.contains(e.variables.noteName+"_eventChildren")&&(a=a.parentNode);var o=a.getAttribute("data-note-index");o&&a.classList.add(e.variables.noteName+"_"+o+"_on_mouseover")}(t),Co("Vanillanote.cssEvents.target_onAfterMouseover","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onAfterMouseover(t),t.stopImmediatePropagation())}))},Yo=function(t,a){t.addEventListener("mouseout",(function(t){Co("Vanillanote.cssEvents.target_onBeforeMouseout","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onBeforeMouseout(t)&&t.target.classList.contains(aa())&&(Co("target_onMouseout","params :","(event)",t,"(target)",t.target),function(t){var a=t.target;a.classList.contains(e.variables.noteName+"_eventChildren")&&(a=a.parentNode);var o=a.getAttribute("data-note-index");o&&a.classList.remove(e.variables.noteName+"_"+o+"_on_mouseover")}(t),Co("Vanillanote.cssEvents.target_onAfterMouseout","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onAfterMouseout(t),t.stopImmediatePropagation())}))},Uo=function(t,a){t.addEventListener("touchstart",(function(t){Co("Vanillanote.cssEvents.target_onBeforeTouchstart","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onBeforeTouchstart(t)&&t.target.classList.contains(aa())&&(Co("target_onTouchstart","params :","(event)",t,"(target)",t.target),function(t){var a=t.target;a.classList.contains(e.variables.noteName+"_eventChildren")&&(a=a.parentNode);var o=a.getAttribute("data-note-index");o&&(a.classList.add(e.variables.noteName+"_"+o+"_on_mouseover"),a.classList.remove(e.variables.noteName+"_"+o+"_on_mouseout"))}(t),Co("Vanillanote.cssEvents.target_onAfterTouchstart","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onAfterTouchstart(t),t.stopImmediatePropagation())}))},zo=function(t,a){t.addEventListener("touchend",(function(t){Co("Vanillanote.cssEvents.target_onBeforeTouchend","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onBeforeTouchend(t)&&t.target.classList.contains(aa())&&(Co("target_onTouchend","params :","(event)",t,"(target)",t.target),function(t){var a=t.target;a.classList.contains(e.variables.noteName+"_eventChildren")&&(a=a.parentNode);var o=a.getAttribute("data-note-index");o&&(a.classList.add(e.variables.noteName+"_"+o+"_on_mouseout"),a.classList.remove(e.variables.noteName+"_"+o+"_on_mouseover"))}(t),Co("Vanillanote.cssEvents.target_onAfterTouchend","params :","(event)",t,"(target)",t.target),e.cssEvents.target_onAfterTouchend(t),t.stopImmediatePropagation())}))},Ho=function(e,t,a,o,l,n){return e=Ko(e,t,a,o,l,n),Fo(e,a),e},Mo=function(e,t,a,o,l,n){return(e=Ko(e,t,a,o,l,n)).classList.add(oa()),e.classList.add(aa()),e.setAttribute("type","select"),Fo(e,a),Oo(e),Yo(e),Uo(e),zo(e),e},Go=function(e,t,a,o,l){return Ko(e,t,a,o,l)},Do=function(e,t,a,o,l,n){return(e=Ko(e,t,a,o,l,n)).classList.add(oa()),e.classList.add(aa()),Fo(e,a),Oo(e),Yo(e),Uo(e),zo(e),e},Po=function(t,a,o,l){return(t=Ko(t,"input",a,o,l)).setAttribute("name",Jt(l,a)),t.setAttribute("autocapitalize","none"),t.setAttribute("placeholder",""),t.addEventListener("input",(function(t){Co("Vanillanote.elementEvents."+a+"_onBeforeInput","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onBeforeInput"](t)&&(Co(a+"_onInput","params :","(event)",t,"(target)",t.target),wo[a+"_onInput"](t),Co("Vanillanote.elementEvents."+a+"_onAfterInput","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onAfterInput"](t),t.stopImmediatePropagation())})),t.addEventListener("blur",(function(t){Co("Vanillanote.elementEvents."+a+"_onBeforeBlur","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onBeforeBlur"](t)&&(Co(a+"_onBlur","params :","(event)",t,"(target)",t.target),wo[a+"_onBlur"](t),Co("Vanillanote.elementEvents."+a+"_onAfterBlur","params :","(event)",t,"(target)",t.target),e.elementEvents[a+"_onAfterBlur"](t),t.stopImmediatePropagation())})),t},Wo=function(e,t,a,o){return(e=Ko(e,"input",t,a,o)).setAttribute("name",Jt(o,t)),e.setAttribute("placeholder",""),e.setAttribute("type","checkbox"),e},jo=function(e,t,a,o,l){return(e=Ko(e,"input",t,a,l)).setAttribute("name",o),e.setAttribute("placeholder",""),e.setAttribute("type","radio"),Fo(e,t),e},qo=function(t,a){var o,l;return(o=document.createElement("label")).setAttribute("for",t),o.setAttribute("style","display:inline-block;width:30px;position:relative;margin-left:3px;;margin-left:3px;"),(l=document.createElement("span")).setAttribute("class","material-symbols-rounded"),l.setAttribute("style","font-size:1.3em;position:absolute;bottom:-6px;cursor:pointer;color:"+Ta(e.colors.color1[Qo])),l.textContent=a,o.appendChild(l),o},$o=function(t,a,o,l,n,i){return t=Ko(t,a,o,l,n,i),e.elementEvents[o+"_onBeforeClick"]=function(e){return!0},wo[o+"_onClick"]=function(t){!function(t){if(t.target){var a=t.target,o=a.getAttribute("data-note-index"),l=a.getAttribute("data-font-family");ma(e.elements.fontFamilySelects[o].getAttribute("style"))["font-family"]=l,e.variables.fontFamilies[o]=l,e.elements.fontFamilySelects[o].firstChild.textContent=l.length>12?l.substr(0,12)+"...":l,e.elements.fontFamilySelects[o].style.fontFamily=l}}(t),Ha(t.target);var a=t.target.getAttribute("data-note-index");e.variables.editRanges[a]&&e.variables.editRanges[a].collapsed?Ca(a):Ja(a,Ga(a))},e.elementEvents[o+"_onAfterClick"]=function(e){},t.classList.add(oa()),t.classList.add(aa()),Fo(t,o),Oo(t),Yo(t),Uo(t),zo(t),t},Xo=function(t){var a,o;"light"==(a=t=Ta(t),o=0,parseInt(a.slice(1,3),16)>=160&&o++,parseInt(a.slice(3,5),16)>=160&&o++,parseInt(a.slice(5,7),16)>=160&&o++,o>=2?"light":"dark")?(e.colors.color1[Qo]="#333333",e.colors.color2[Qo]="#ffffff",e.colors.color3[Qo]=Sa(t,"18"),e.colors.color4[Qo]=t,e.colors.color5[Qo]=Sa(t,"-18"),e.colors.color6[Qo]=Sa(t,"-1f"),e.colors.color7[Qo]=Sa(t,"-2f"),e.colors.color8[Qo]="#609966",e.colors.color9[Qo]="#df2e38",e.colors.color10[Qo]="#333333",e.colors.color11[Qo]="#666666",e.colors.color12[Qo]="#333333",e.colors.color13[Qo]="#ffffff",e.colors.color14[Qo]="#ff7f7f",e.colors.color15[Qo]="#ffad66",e.colors.color16[Qo]="#ffff66",e.colors.color17[Qo]="#99ff99",e.colors.color18[Qo]="#99ccff",e.colors.color19[Qo]="#6699cc",e.colors.color20[Qo]="#cc99cc"):(e.colors.color1[Qo]="#ffffff",e.colors.color2[Qo]="#ffffff",e.colors.color3[Qo]=Sa(t,"18"),e.colors.color4[Qo]=t,e.colors.color5[Qo]=Sa(t,"-18"),e.colors.color6[Qo]=Sa(t,"-1f"),e.colors.color7[Qo]=Sa(t,"-2f"),e.colors.color8[Qo]="#609966",e.colors.color9[Qo]="#df2e38",e.colors.color10[Qo]="#333333",e.colors.color11[Qo]="#666666",e.colors.color12[Qo]="#333333",e.colors.color13[Qo]="#ffffff",e.colors.color14[Qo]="#b70404",e.colors.color15[Qo]="#e55807",e.colors.color16[Qo]="#f1c93b",e.colors.color17[Qo]="#1a5d1a",e.colors.color18[Qo]="#068fff",e.colors.color19[Qo]="#0c134f",e.colors.color20[Qo]="#5c469c")};e.eventStore.selectionchange=function(e){wo.document_onSelectionchange(e)},e.eventStore.keydown=function(e){!e.ctrlKey&&!e.metaKey||"z"!==e.key&&"Z"!==e.key||(e.preventDefault(),wo.undoButton_onClick(e)),!e.ctrlKey&&!e.metaKey||"y"!==e.key&&"Y"!==e.key||(e.preventDefault(),wo.redoButton_onClick(e))},e.eventStore.resize=function(e){wo.window_onResize(e)},e.eventStore.resizeViewport=function(e){wo.window_resizeViewport(e)},document.addEventListener("selectionchange",e.eventStore.selectionchange),document.addEventListener("keydown",e.eventStore.keydown),window.addEventListener("resize",e.eventStore.resize),window.visualViewport&&window.visualViewport.addEventListener("resize",e.eventStore.resizeViewport),Zt+=e.keyframes["@keyframes vanillanote-modal-input"],Zt+=e.keyframes["@keyframes vanillanote-modal-small-input"];for(var Qo=0;Qo<e.elements.notes.length;Qo++){(l=e.elements.notes[Qo]).setAttribute("id",e.variables.noteName+"_"+Qo),l.setAttribute("class",e.variables.noteName+"_"+Qo+" "+e.variables.noteName),l.setAttribute("data-note-index",Qo),l.getNote=Ro,l.getNoteData=Lo,l.getNoteIndex=function(){return na(this)},it=l.getAttribute("note-mode-by-device")?l.getAttribute("note-mode-by-device").toUpperCase():"ADAPTIVE",["ADAPTIVE","MOBILE","DESKTOP"].indexOf(it)<0&&(it="ADAPTIVE"),st="MOBILE"===it||"DESKTOP"!==it&&!!ia(),rt=l.getAttribute("default-font-size")?l.getAttribute("default-font-size"):st?"18":"16",ct=l.getAttribute("default-line-height")?l.getAttribute("default-line-height"):st?"18":"16",dt=["Arial","Arial Black","Arial Narrow","Comic Sans MS","Courier","Georgia","Impact"],ut=l.getAttribute("add-font-family")?l.getAttribute("add-font-family").split(","):"",pt=l.getAttribute("remove-font-family")?l.getAttribute("remove-font-family").split(","):"";for(var Zo=0;Zo<ut.length;Zo++)ut[Zo],ut[Zo]&&(dt.includes(ut[Zo])||(Qt=ut[Zo],/^[A-Za-z0-9]+$/.test(Qt)?dt.splice(7+Zo,0,ut[Zo]):dt.push(ut[Zo])));for(var Jo=0;Jo<pt.length;Jo++)pt[Jo]&&(dt=dt.filter((function(e){return e!==pt[Jo]})));if(mt=l.getAttribute("default-font-family")?l.getAttribute("default-font-family"):"Georgia",dt.includes(mt)||dt.splice(0,0,mt),e.variables.defaultStyles[Qo]={"font-size":rt+"px","line-height":ct+"px","font-family":mt},e.variables.attFilePreventTypes[Qo]=l.getAttribute("att-file-prevent-types")?l.getAttribute("att-file-prevent-types").split(","):[],e.variables.attFileAcceptTypes[Qo]=l.getAttribute("att-file-accept-types")?l.getAttribute("att-file-accept-types").split(","):[],e.variables.attFileMaxSizes[Qo]=l.getAttribute("att-file-max-size")&&sa(l.getAttribute("att-file-max-size"))?l.getAttribute("att-file-max-size"):20971520,_t=["image/png","image/jpeg","image/bmp","image/gif","image/svg+xml","image/tiff","image/x-icon","image/vnd.microsoft.icon","image/webp","image/heif","image/heic","image/jp2","image/avif","video/mp4","video/webm","video/ogg","video/avi","video/mpeg","video/quicktime","video/x-ms-wmv","video/x-flv","video/3gpp","video/3gpp2","video/x-matroska"],e.variables.attImagePreventTypes[Qo]=l.getAttribute("att-image-prevent-types")?l.getAttribute("att-image-prevent-types").split(","):[],e.variables.attImageAcceptTypes[Qo]=l.getAttribute("att-image-accept-types")?l.getAttribute("att-image-accept-types").split(","):_t,e.variables.attImageMaxSizes[Qo]=l.getAttribute("att-image-max-size")&&sa(l.getAttribute("att-image-max-size"))?l.getAttribute("att-image-max-size"):20971520,ft=sa(l.getAttribute("size-level-desktop"))?Number(l.getAttribute("size-level-desktop")):3,bt=sa(l.getAttribute("size-level-mobile"))?Number(l.getAttribute("size-level-mobile")):7,(gt=st?bt:ft)<1&&(gt=1),gt>9&&(gt=9),e.variables.sizeRates[Qo]=e.variables.sizeRates[Qo]?e.variables.sizeRates[Qo]:(gt+11)/20,e.variables.textareaOriginWidths[Qo]||(e.variables.textareaOriginWidths[Qo]=l.getAttribute("textarea-width")?l.getAttribute("textarea-width"):"100%"),vt=l.getAttribute("textarea-max-width")?l.getAttribute("textarea-max-width"):"100%",e.variables.textareaOriginHeights[Qo]||(e.variables.textareaOriginHeights[Qo]=l.getAttribute("textarea-height")?l.getAttribute("textarea-height"):st?"350px":"500px"),ht=l.getAttribute("textarea-max-height")?l.getAttribute("textarea-max-height"):"900px",xt=l.getAttribute("textarea-height-isModify")?l.getAttribute("textarea-height-isModify"):"false",e.variables.toolPositions[Qo]=l.getAttribute("tool-position")&&["BOTTOM","TOP"].indexOf(l.getAttribute("tool-position"))>=0?l.getAttribute("tool-position"):st?"BOTTOM":"TOP",e.variables.toolToggles[Qo]=l.getAttribute("tool-toggle")?"true"===l.getAttribute("tool-toggle"):!!st,e.variables.toolDefaultLines[Qo]=l.getAttribute("tool-default-line")&&sa(l.getAttribute("tool-default-line"))?Number(l.getAttribute("tool-default-line")):st?2:1,e.variables.toolToggles[Qo]||(e.variables.toolDefaultLines[Qo]=1),defaultToolFontFamily=l.getAttribute("default-tool-font-family")?l.getAttribute("default-tool-font-family"):"Georgia",e.variables.recodeLimit[Qo]=l.getAttribute("recode-limit")&&sa(l.getAttribute("recode-limit"))?Number(l.getAttribute("recode-limit")):100,e.variables.placeholderIsVisible[Qo]=!!l.getAttribute("placeholder-is-visible")&&"true"===l.getAttribute("placeholder-is-visible"),e.variables.placeholderAddTop[Qo]=l.getAttribute("placeholder-add-top")&&ra(l.getAttribute("placeholder-add-top"))?Number(l.getAttribute("placeholder-add-top")):0,e.variables.placeholderAddLeft[Qo]=l.getAttribute("placeholder-add-left")&&ra(l.getAttribute("placeholder-add-top"))?Number(l.getAttribute("placeholder-add-left")):0,e.variables.placeholderWidth[Qo]=l.getAttribute("placeholder-width")?l.getAttribute("placeholder-width"):"",be=l.getAttribute("placeholder-color")?l.getAttribute("placeholder-color"):"",ve=l.getAttribute("placeholder-background-color")?l.getAttribute("placeholder-background-color"):"",Bt=l.hasAttribute("placeholder-title")?l.getAttribute("placeholder-title"):"HELLO VANILLANOTE",Tt=l.hasAttribute("placeholder-text-content")?l.getAttribute("placeholder-text-content").replace(/<\/*br>/g,"\n"):"This is a placeholder",e.colors.color1[Qo]=e.colors.color1[Qo]?Ta(e.colors.color1[Qo]):"#333333",e.colors.color2[Qo]=e.colors.color2[Qo]?Ta(e.colors.color2[Qo]):"#ffffff",e.colors.color3[Qo]=e.colors.color3[Qo]?Ta(e.colors.color3[Qo]):"#f8f8f8",e.colors.color4[Qo]=e.colors.color4[Qo]?Ta(e.colors.color4[Qo]):"#f4f4f4",e.colors.color5[Qo]=e.colors.color5[Qo]?Ta(e.colors.color5[Qo]):"#cbcbcb",e.colors.color6[Qo]=e.colors.color6[Qo]?Ta(e.colors.color6[Qo]):"#cfcfcf",e.colors.color7[Qo]=e.colors.color7[Qo]?Ta(e.colors.color7[Qo]):"#6f6f6f",e.colors.color8[Qo]=e.colors.color8[Qo]?Ta(e.colors.color8[Qo]):"#609966",e.colors.color9[Qo]=e.colors.color9[Qo]?Ta(e.colors.color9[Qo]):"#ea5455",e.colors.color10[Qo]=e.colors.color10[Qo]?Ta(e.colors.color10[Qo]):"#333333",e.colors.color11[Qo]=e.colors.color11[Qo]?Ta(e.colors.color11[Qo]):"#666666",e.colors.color12[Qo]=e.colors.color12[Qo]?Ta(e.colors.color12[Qo]):"#333333",e.colors.color13[Qo]=e.colors.color13[Qo]?Ta(e.colors.color13[Qo]):"#ffffff",e.colors.color14[Qo]=e.colors.color14[Qo]?Ta(e.colors.color14[Qo]):"#ff7f7f",e.colors.color15[Qo]=e.colors.color15[Qo]?Ta(e.colors.color15[Qo]):"#ffad66",e.colors.color16[Qo]=e.colors.color16[Qo]?Ta(e.colors.color16[Qo]):"#ffff66",e.colors.color17[Qo]=e.colors.color17[Qo]?Ta(e.colors.color17[Qo]):"#99ff99",e.colors.color18[Qo]=e.colors.color18[Qo]?Ta(e.colors.color18[Qo]):"#99ccff",e.colors.color19[Qo]=e.colors.color19[Qo]?Ta(e.colors.color19[Qo]):"#6699cc",e.colors.color20[Qo]=e.colors.color20[Qo]?Ta(e.colors.color20[Qo]):"#cc99cc",et=l.getAttribute("main-color"),tt=l.getAttribute("color-set")?l.getAttribute("color-set").toLowerCase():"",at="true"===l.getAttribute("invert-color"),et)Xo(et);else switch(tt){case"skyblue":Xo("#91c8e4");break;case"blue":Xo("#4682a9");break;case"light-red":Xo("#fdd2bf");break;case"red":Xo("#b61919");break;case"light-green":Xo("#a4be7b");break;case"green":Xo("#285430");break;case"orange":Xo("#f79327");break;case"yellow":Xo("#ffe569");break;case"purple":Xo("#804674");break;case"brown":Xo("#675d50");break;case"black":Xo("#272829")}at&&(e.colors.color1[Qo]=Ia(e.colors.color1[Qo]),e.colors.color2[Qo]=Ia(e.colors.color2[Qo]),e.colors.color3[Qo]=Ia(e.colors.color3[Qo]),e.colors.color4[Qo]=Ia(e.colors.color4[Qo]),e.colors.color5[Qo]=Ia(e.colors.color5[Qo]),e.colors.color6[Qo]=Ia(e.colors.color6[Qo]),e.colors.color7[Qo]=Ia(e.colors.color7[Qo]),e.colors.color10[Qo]=Ia(e.colors.color10[Qo]),e.colors.color11[Qo]=Ia(e.colors.color11[Qo]),e.colors.color12[Qo]=Ia(e.colors.color12[Qo]),e.colors.color13[Qo]=Ia(e.colors.color13[Qo])),e.variables.languages[Qo]||(e.variables.languages[Qo]=l.getAttribute("language")?l.getAttribute("language").toUpperCase():"ENG"),e.languageSet.hasOwnProperty(e.variables.languages[Qo])||(e.variables.languages[Qo]="ENG"),St="false"!==l.getAttribute("using-paragraph-style"),It="false"!==l.getAttribute("using-bold"),yt="false"!==l.getAttribute("using-underline"),Et="false"!==l.getAttribute("using-italic"),At="false"!==l.getAttribute("using-ul"),Ct="false"!==l.getAttribute("using-ol"),Nt="false"!==l.getAttribute("using-text-align"),Lt="false"!==l.getAttribute("using-att-link"),Rt="false"!==l.getAttribute("using-att-file"),Vt="false"!==l.getAttribute("using-att-image"),wt="false"!==l.getAttribute("using-att-video"),Kt="false"!==l.getAttribute("using-font-size"),Ft="false"!==l.getAttribute("using-letter-spacing"),Ot="false"!==l.getAttribute("using-line-height"),Yt="false"!==l.getAttribute("using-font-family"),Ut="false"!==l.getAttribute("using-color-text"),zt="false"!==l.getAttribute("using-color-back"),Ht="false"!==l.getAttribute("using-format-clear"),Mt="false"!==l.getAttribute("using-undo"),Gt="false"!==l.getAttribute("using-redo"),Dt="false"!==l.getAttribute("using-help"),"false"===l.getAttribute("using-paragraph-all-style")&&(St=!1,At=!1,Ct=!1,Nt=!1),"false"===l.getAttribute("using-character-style")&&(It=!1,yt=!1,Et=!1,Yt=!1,Ut=!1,zt=!1,Ht=!1),"false"===l.getAttribute("using-character-size")&&(Kt=!1,Ft=!1,Ot=!1),"false"===l.getAttribute("using-attach-file")&&(Lt=!1,Rt=!1,Vt=!1,wt=!1),"false"===l.getAttribute("using-do")&&(Mt=!1,Gt=!1),e.csses["template h1"][Qo]=e.csses["template h1"][Qo]?e.csses["template h1"][Qo]:{display:"block","font-size":"2em","line-height":"1.2em","font-weight":"bold",margin:"1em 0",padding:"0 10px"},e.csses["template h2"][Qo]=e.csses["template h2"][Qo]?e.csses["template h2"][Qo]:{display:"block","font-size":"1.8em","line-height":"1.2em","font-weight":"bold",margin:"1em 0",padding:"0 10px"},e.csses["template h3"][Qo]=e.csses["template h3"][Qo]?e.csses["template h3"][Qo]:{display:"block","font-size":"1.6em","line-height":"1.2em","font-weight":"bold","margin-top":"1em","margin-bottom":"1em",padding:"0 10px"},e.csses["template h4"][Qo]=e.csses["template h4"][Qo]?e.csses["template h4"][Qo]:{display:"block","font-size":"1.4em","line-height":"1.2em","font-weight":"bold",margin:"1em 0",padding:"0 10px"},e.csses["template h5"][Qo]=e.csses["template h5"][Qo]?e.csses["template h5"][Qo]:{display:"block","font-size":"1.2em","line-height":"1.2em","font-weight":"bold",margin:"1em 0",padding:"0 10px"},e.csses["template h6"][Qo]=e.csses["template h6"][Qo]?e.csses["template h6"][Qo]:{display:"block","font-size":"1em","line-height":"1.2em","font-weight":"bold",margin:"1em 0",padding:"0 10px"},e.csses["textarea ul"][Qo]=e.csses["textarea ul"][Qo]?e.csses["textarea ul"][Qo]:{display:"block","list-style-type":"disc","padding-left":"40px",margin:"1em 0"},e.csses["textarea ol"][Qo]=e.csses["textarea ol"][Qo]?e.csses["textarea ol"][Qo]:{display:"block","list-style-type":"decimal","padding-left":"40px",margin:"1em 0"},e.csses["textarea li"][Qo]=e.csses["textarea li"][Qo]?e.csses["textarea li"][Qo]:{display:"list-item","margin-top":"0.5em","margin-bottom":"0.5em",padding:"0 10px"},e.csses["textarea p"][Qo]=e.csses["textarea p"][Qo]?e.csses["textarea p"][Qo]:{display:"block","margin-top":"1em","margin-bottom":"1em",padding:"0 10px"},e.csses["textarea div"][Qo]=e.csses["textarea div"][Qo]?e.csses["textarea div"][Qo]:{display:"block","margin-top":"1em","margin-bottom":"1em",padding:"0 10px"},e.csses["textarea span"][Qo]=e.csses["textarea span"][Qo]?e.csses["textarea span"][Qo]:{display:"inline"},e.csses["textarea a"][Qo]=e.csses["textarea a"][Qo]?e.csses["textarea a"][Qo]:{display:"inline",color:e.colors.color11[Qo],"text-decoration":"underline"},e.csses.template[Qo]=e.csses.template[Qo]?e.csses.template[Qo]:{width:"100%",height:"100%",position:"relative"},e.csses.textarea[Qo]=e.csses.textarea[Qo]?e.csses.textarea[Qo]:{width:e.variables.textareaOriginWidths[Qo],height:e.variables.textareaOriginHeights[Qo],display:"block",margin:"0 auto",outline:"none",cursor:"text","text-align":"left",overflow:"auto","word-wrap":"break-word",resize:"false"===xt?"none":"vertical","max-width":vt,"max-height":ht,"box-shadow":"0 0.5px 1px 0.5px "+e.colors.color7[Qo],"background-color":e.colors.color2[Qo],"font-size":rt+"px","line-height":ct+"px","font-family":mt,color:e.colors.color12[Qo],transition:"height 0.5s"},"BOTTOM"===e.variables.toolPositions[Qo]&&(e.csses.textarea[Qo]["border-top"]="0.5px solid "+e.colors.color6[Qo]),e.csses.tool[Qo]=e.csses.tool[Qo]?e.csses.tool[Qo]:o(o({width:e.variables.textareaOriginWidths[Qo],height:e.variables.toolDefaultLines[Qo]*(50*e.variables.sizeRates[Qo])+"px",padding:"2px 0","max-width":vt,display:"block","line-height":50*e.variables.sizeRates[Qo]+"px",margin:"0 auto","background-color":"#eee","text-align":"left","vertical-align":"middle","box-shadow":"0.25px 0.25px 1px 0.5px "+e.colors.color7[Qo],"font-size":e.variables.sizeRates[Qo]*(st?18:16)+"px"},"background-color",e.colors.color3[Qo]),"font-family",defaultToolFontFamily),e.csses.icon[Qo]=e.csses.icon[Qo]?e.csses.icon[Qo]:{"font-size":"1.3em","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",color:e.colors.color1[Qo]},e.csses.button[Qo]=e.csses.button[Qo]?e.csses.button[Qo]:{width:50*e.variables.sizeRates[Qo]+"px",height:45*e.variables.sizeRates[Qo]+"px",float:"left",display:"inline-block",cursor:"pointer","text-align":"center",margin:"2px 2px","border-radius":"5px","box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo],"background-color":e.colors.color4[Qo],"font-family":defaultToolFontFamily,position:"relative"},e.csses.select[Qo]=e.csses.select[Qo]?e.csses.select[Qo]:{width:150*e.variables.sizeRates[Qo]+"px",height:45*e.variables.sizeRates[Qo]+"px","background-color":e.colors.color4[Qo],float:"left",display:"inline-block",cursor:"pointer","text-align":"center",margin:"2px 2px","border-radius":"5px","box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo],color:e.colors.color1[Qo],position:"relative"},e.csses.select_box_a[Qo]=e.csses.select_box_a[Qo]?e.csses.select_box_a[Qo]:{"min-width":150*e.variables.sizeRates[Qo]+"px","background-color":e.colors.color4[Qo],display:"none",float:"left",position:"absolute",cursor:"pointer","border-radius":"5px","box-shadow":"0.25px 0.25px 0.1em "+e.colors.color7[Qo],opacity:"0.85","z-index":"200"},"BOTTOM"===e.variables.toolPositions[Qo]&&(e.csses.select_box_a[Qo].bottom="110%"),e.csses.select_box_b[Qo]=e.csses.select_box_b[Qo]?e.csses.select_box_b[Qo]:{width:50*e.variables.sizeRates[Qo]+"px",display:" none",float:"left",position:"absolute",cursor:"pointer","border-radius":"5px","z-index":"200"},"BOTTOM"===e.variables.toolPositions[Qo]&&(e.csses.select_box_b[Qo].bottom="100%"),e.csses.select_box_c[Qo]=e.csses.select_box_c[Qo]?e.csses.select_box_c[Qo]:{width:220*e.variables.sizeRates[Qo]+30+"px",display:"none",padding:"0 "+10*e.variables.sizeRates[Qo]+"px",float:"left",position:"absolute","border-radius":"5px","box-shadow":"0.25px 0.25px 0.1em "+e.colors.color7[Qo],"background-color":e.colors.color4[Qo],opacity:"0.95",cursor:"text","text-align":"left","z-index":"200"},"BOTTOM"===e.variables.toolPositions[Qo]&&(e.csses.select_box_c[Qo].bottom="110%"),e.csses.select_list[Qo]=e.csses.select_list[Qo]?e.csses.select_list[Qo]:{display:"block",height:45*e.variables.sizeRates[Qo]+"px",margin:"0 !important","line-height":45*e.variables.sizeRates[Qo]+"px !important",padding:"3px 5px",cursor:"pointer","text-align":"left",overflow:"hidden"},e.csses.select_list_button[Qo]=e.csses.select_list_button[Qo]?e.csses.select_list_button[Qo]:{width:50*e.variables.sizeRates[Qo]+"px",height:45*e.variables.sizeRates[Qo]+"px","background-color":e.colors.color4[Qo],display:"inline-block",cursor:"pointer","border-radius":"5px","box-shadow":"0px 0.25px 0.1em "+e.colors.color7[Qo]},e.csses.small_input_box[Qo]=e.csses.small_input_box[Qo]?e.csses.small_input_box[Qo]:{width:120*e.variables.sizeRates[Qo]+"px",height:45*e.variables.sizeRates[Qo]+"px","background-color":e.colors.color4[Qo],float:"left",overflow:"hidden",cursor:"pointer",display:"inline-block","text-align":"center",margin:"2px 2px","border-radius":"5px","box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo]},e.csses.small_input[Qo]=e.csses.small_input[Qo]?e.csses.small_input[Qo]:{width:"30%","background-color":"rgba(0,0,0,0)",color:e.colors.color1[Qo],border:"none","border-radius":"0","text-align":"right",display:"inline-block",position:"relative",top:"-4px","margin-left":"5px","font-family":defaultToolFontFamily,cursor:"text","font-size":"0.8em!important"},e.csses["small_input:focus"][Qo]=e.csses["small_input:focus"][Qo]?e.csses["small_input:focus"][Qo]:{outline:"none"},e.csses["small_input::-webkit-inner-spin-button"][Qo]=e.csses["small_input::-webkit-inner-spin-button"][Qo]?e.csses["small_input::-webkit-inner-spin-button"][Qo]:{"-webkit-appearance":"none",margin:"0"},e.csses["small_input::-webkit-outer-spin-button"][Qo]=e.csses["small_input::-webkit-outer-spin-button"][Qo]?e.csses["small_input::-webkit-outer-spin-button"][Qo]:{"-webkit-appearance":"none",margin:"0"},e.csses["small_input[type=number]"][Qo]=e.csses["small_input[type=number]"][Qo]?e.csses["small_input[type=number]"][Qo]:{"-moz-appearance":"textfield"},e.csses.placeholder[Qo]=e.csses.placeholder[Qo]?e.csses.placeholder[Qo]:{width:e.variables.textareaOriginWidths[Qo],padding:"10px","background-color":ve||_a(e.colors.color3[Qo],.8),color:be||e.colors.color1[Qo],display:"none",position:"absolute","z-index":"100","font-family":defaultToolFontFamily},e.csses.help_main[Qo]=e.csses.help_main[Qo]?e.csses.help_main[Qo]:{"max-height":e.variables.textareaOriginHeights[Qo],color:e.colors.color10[Qo],"overflow-y":"auto"},e.csses.modal_back[Qo]=e.csses.modal_back[Qo]?e.csses.modal_back[Qo]:{"background-color":"rgba(0,0,0,0.5)",display:"none",position:"absolute","z-index":"300","font-family":defaultToolFontFamily,color:e.colors.color1[Qo],"font-size":e.variables.sizeRates[Qo]*(st?18:16)+"px"},e.csses.modal_body[Qo]=e.csses.modal_body[Qo]?e.csses.modal_body[Qo]:{width:"80%",margin:"0 auto",display:"none","text-align":"left",border:"solid 1px "+e.colors.color6[Qo],"border-radius":"20px","background-color":e.colors.color2[Qo],"":""},e.csses.modal_header[Qo]=e.csses.modal_header[Qo]?e.csses.modal_header[Qo]:{"text-align":"left","padding-top":20*e.variables.sizeRates[Qo]+"px","padding-right":10*e.variables.sizeRates[Qo]+"px","padding-bottom":20*e.variables.sizeRates[Qo]+"px","padding-left":20*e.variables.sizeRates[Qo]+"px","margin-bottom":10*e.variables.sizeRates[Qo]+"px","background-color":e.colors.color4[Qo],"border-radius":"20px 20px 0 0","font-weight":"bold","font-size":"1.05em"},e.csses.modal_footer[Qo]=e.csses.modal_footer[Qo]?e.csses.modal_footer[Qo]:{"text-align":"right","margin-top":10*e.variables.sizeRates[Qo]+"px","padding-top":10*e.variables.sizeRates[Qo]+"px","padding-right":10*e.variables.sizeRates[Qo]+"px","padding-bottom":10*e.variables.sizeRates[Qo]+"px","padding-left":10*e.variables.sizeRates[Qo]+"px","border-top":"1px solid "+e.colors.color6[Qo]},e.csses.modal_explain[Qo]=e.csses.modal_explain[Qo]?e.csses.modal_explain[Qo]:o(o(o({"font-size":"0.95em","text-align":"left",display:"block","padding-top":20*e.variables.sizeRates[Qo]+"px","padding-bottom":10*e.variables.sizeRates[Qo]+"px","padding-left":20*e.variables.sizeRates[Qo]+"px"},"display","inline-block"),"color",e.colors.color10[Qo]),"font-family",defaultToolFontFamily),e.csses.modal_input[Qo]=e.csses.modal_input[Qo]?e.csses.modal_input[Qo]:{display:"block",width:"80%","background-color":"rgba(0,0,0,0)","font-family":defaultToolFontFamily,color:e.colors.color10[Qo],border:"none","border-radius":"0","border-bottom":"1px solid "+e.colors.color6[Qo],"margin-bottom":10*e.variables.sizeRates[Qo]+"px","margin-left":20*e.variables.sizeRates[Qo]+"px","font-size":"1.05em",animation:"vanillanote-modal-input 0.7s forwards"},e.csses["modal_input:focus"][Qo]=e.csses["modal_input:focus"][Qo]?e.csses["modal_input:focus"][Qo]:{outline:"none"},e.csses["modal_input[readonly]"][Qo]=e.csses["modal_input[readonly]"][Qo]?e.csses["modal_input[readonly]"][Qo]:{"background-color":"rgba(0,0,0,0.1)"},e.csses.modal_small_input[Qo]=e.csses.modal_small_input[Qo]?e.csses.modal_small_input[Qo]:{display:"inline-block",width:"20%","background-color":"rgba(0,0,0,0)","font-family":defaultToolFontFamily,color:e.colors.color10[Qo],border:"none","border-radius":"0","border-bottom":"1px solid "+e.colors.color6[Qo],"margin-bottom":10*e.variables.sizeRates[Qo]+"px","margin-left":20*e.variables.sizeRates[Qo]+"px","font-size":"1.05em",animation:"vanillanote-modal-small-input 1s forwards"},e.csses["modal_small_input:focus"][Qo]=e.csses["modal_small_input:focus"][Qo]?e.csses["modal_small_input:focus"][Qo]:{outline:"none"},e.csses["modal_small_input::-webkit-inner-spin-button"][Qo]=e.csses["modal_small_input::-webkit-inner-spin-button"][Qo]?e.csses["modal_small_input::-webkit-inner-spin-button"][Qo]:{appearance:"none","-moz-appearance":"none","-webkit-appearance":"none"},e.csses["modal_small_input::-webkit-outer-spin-button"][Qo]=e.csses["modal_small_input::-webkit-outer-spin-button"][Qo]?e.csses["modal_small_input::-webkit-outer-spin-button"][Qo]:{"-webkit-appearance":"none",margin:"0"},e.csses["modal_small_input[type=number]"][Qo]=e.csses["modal_small_input[type=number]"][Qo]?e.csses["modal_small_input[type=number]"][Qo]:{"-moz-appearance":"textfield"},e.csses["modal_small_input[readonly]"][Qo]=e.csses["modal_small_input[readonly]"][Qo]?e.csses["modal_small_input[readonly]"][Qo]:{"background-color":e.colors.color4[Qo]},e.csses.modal_input_file[Qo]=e.csses.modal_input_file[Qo]?e.csses.modal_input_file[Qo]:{display:"none!important"},e.csses.att_valid_checktext[Qo]=e.csses.att_valid_checktext[Qo]?e.csses.att_valid_checktext[Qo]:{"padding-right":"10px","font-size":"0.7em"},e.csses.att_link_is_blank_label[Qo]=e.csses.att_link_is_blank_label[Qo]?e.csses.att_link_is_blank_label[Qo]:{"font-size":"0.95em","text-align":"left",display:"inline-block",height:"25px",cursor:"pointer","margin-top":10*e.variables.sizeRates[Qo]+"px","margin-bottom":10*e.variables.sizeRates[Qo]+"px","margin-left":15*e.variables.sizeRates[Qo]+"px",color:e.colors.color10[Qo]},e.csses.input_checkbox[Qo]=e.csses.input_checkbox[Qo]?e.csses.input_checkbox[Qo]:{cursor:"pointer",display:"inline-block",width:"12px",height:"12px","border-radius":"3px",border:"solid "+e.colors.color6[Qo],"border-width":"1px 2px 2px 1px",transform:"rotate(0deg)",transition:"transform 0.3s"},e.csses["input_checkbox:focus"][Qo]=e.csses["input_checkbox:focus"][Qo]?e.csses["input_checkbox:focus"][Qo]:{outline:"none!important"},e.csses["input_checkbox[disabled]"][Qo]=e.csses["input_checkbox[disabled]"][Qo]?e.csses["input_checkbox[disabled]"][Qo]:{"background-color":e.colors.color4[Qo]},e.csses.smallpx_input[Qo]=e.csses.smallpx_input[Qo]?e.csses.smallpx_input[Qo]:o(o(o(o(o(o({width:"40px","background-color":"rgba(0,0,0,0)",color:e.colors.color1[Qo],border:"none","border-radius":"0"},"border-radius","5px"),"text-align","right"),"font-size","0.9em!important"),"display","inline-block"),"margin-left","5px"),"font-family",defaultToolFontFamily),e.csses["smallpx_input:focus"][Qo]=e.csses["smallpx_input:focus"][Qo]?e.csses["smallpx_input:focus"][Qo]:{outline:"none"},e.csses["smallpx_input::-webkit-inner-spin-button"][Qo]=e.csses["smallpx_input::-webkit-inner-spin-button"][Qo]?e.csses["smallpx_input::-webkit-inner-spin-button"][Qo]:{appearance:"none","-moz-appearance":"none","-webkit-appearance":"none"},e.csses.input_radio[Qo]=e.csses.input_radio[Qo]?e.csses.input_radio[Qo]:{cursor:"pointer",display:"inline-block",width:"12px",height:"12px","border-radius":"50%",border:"solid 1px "+e.colors.color6[Qo],transition:"transform 0.4s, background-color 0.6s;"},e.csses["input_radio:focus"][Qo]=e.csses["input_radio:focus"][Qo]?e.csses["input_radio:focus"][Qo]:{outline:"none!important"},e.csses["input_radio:checked"][Qo]=e.csses["input_radio:checked"][Qo]?e.csses["input_radio:checked"][Qo]:{"background-color":e.colors.color5[Qo],transform:"rotateY( 180deg )",transition:"transform 0.3s, background-color 0.5s;"},e.csses["input_radio[disabled]"][Qo]=e.csses["input_radio[disabled]"][Qo]?e.csses["input_radio[disabled]"][Qo]:{"background-color":e.colors.color4[Qo]},e.csses.drag_drop_div[Qo]=e.csses.drag_drop_div[Qo]?e.csses.drag_drop_div[Qo]:{width:"100%",height:120*e.variables.sizeRates[Qo]+"px",display:"inline-block","margin-top":"10px","border-radius":"5px","background-color":e.colors.color4[Qo],border:"solid 1px"+e.colors.color6[Qo],"line-height":130*e.variables.sizeRates[Qo]+"px","font-size":"0.8em",color:_a(e.colors.color1[Qo],.8),"overflow-y":"scroll",cursor:"pointer"},e.csses.image_view_div[Qo]=e.csses.image_view_div[Qo]?e.csses.image_view_div[Qo]:{width:"80%",height:120*e.variables.sizeRates[Qo]+"px",display:"inline-block","margin-top":"10px","border-radius":"5px","background-color":e.colors.color4[Qo],border:"solid 1px"+e.colors.color6[Qo],"line-height":130*e.variables.sizeRates[Qo]+"px","font-size":"0.8em",color:_a(e.colors.color1[Qo],.8),cursor:"pointer",overflow:"hidden","white-space":"nowrap","scroll-behavior":"smooth"},e.csses.color_button[Qo]=e.csses.color_button[Qo]?e.csses.color_button[Qo]:{width:50*e.variables.sizeRates[Qo]*.5+"px",height:45*e.variables.sizeRates[Qo]*.5+"px",float:"left",display:"inline-block",cursor:"pointer","text-align":"center","border-radius":"5px","margin-right":"3px","margin-bottom":"5%",border:"1px solid "+e.colors.color1[Qo],"box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo],position:"relative"},e.csses.color_input[Qo]=e.csses.color_input[Qo]?e.csses.color_input[Qo]:o(o(o(o(o({display:"inline-block","background-color":"rgba(0,0,0,0)",width:25*e.variables.sizeRates[Qo]+"px",height:40*e.variables.sizeRates[Qo]+"px","font-size":"0.7em!important",color:e.colors.color1[Qo],border:"none","border-radius":"0"},"border-radius","5px"),"text-align","right"),"margin-right",8*e.variables.sizeRates[Qo]+"px"),"margin-left",2*e.variables.sizeRates[Qo]+"px"),"font-family",defaultToolFontFamily),e.csses["color_input:focus"][Qo]=e.csses["color_input:focus"][Qo]?e.csses["color_input:focus"][Qo]:{outline:"none"},e.csses["color_input::-webkit-inner-spin-button"][Qo]=e.csses["color_input::-webkit-inner-spin-button"][Qo]?e.csses["color_input::-webkit-inner-spin-button"][Qo]:{appearance:"none","-moz-appearance":"none","-webkit-appearance":"none"},e.csses.color_explain[Qo]=e.csses.color_explain[Qo]?e.csses.color_explain[Qo]:{display:"inline-block",height:25*e.variables.sizeRates[Qo]+"px",color:e.colors.color1[Qo],"font-family":defaultToolFontFamily,"font-size":"0.7em"},e.csses.normal_button[Qo]=e.csses.normal_button[Qo]?e.csses.normal_button[Qo]:{"min-width":50*e.variables.sizeRates[Qo]+"px",height:45*e.variables.sizeRates[Qo]+"px","font-size":"0.8em",padding:"0 15px",display:"inline-block",cursor:"pointer","text-align":"center","border-radius":"5px",border:"none","box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo],color:e.colors.color1[Qo],"font-family":defaultToolFontFamily,"background-color":e.colors.color4[Qo]},e.csses.opacity_button[Qo]=e.csses.opacity_button[Qo]?e.csses.opacity_button[Qo]:{"min-width":40*e.variables.sizeRates[Qo]+"px",height:40*e.variables.sizeRates[Qo]+"px","font-size":"0.7em",display:"inline-block",cursor:"pointer","text-align":"center","border-radius":"5px",border:"none",color:e.colors.color1[Qo],"font-family":defaultToolFontFamily,"background-color":_a(e.colors.color4[Qo],.5)},e.csses.small_text_box[Qo]=e.csses.small_text_box[Qo]?e.csses.small_text_box[Qo]:{display:"inline-block",padding:"0 10px","font-size":"0.8em",color:e.colors.color1[Qo]},e.csses.tooltip[Qo]=e.csses.tooltip[Qo]?e.csses.tooltip[Qo]:{width:e.variables.textareaOriginWidths[Qo],"max-width":vt,margin:"0 auto",padding:"2px 0","background-color":e.colors.color3[Qo],border:"solid 1px "+e.colors.color5[Qo],height:"0",overflow:"hidden",opacity:"0",transition:"opacity 0.6s, height 0.6s",position:"absolute",left:"50%",transform:"translateX(-50%)","z-index":"100","text-align":"left","font-family":defaultToolFontFamily,"font-size":"0.9em"},e.csses.tooltip_button[Qo]=e.csses.tooltip_button[Qo]?e.csses.tooltip_button[Qo]:{width:50*e.variables.sizeRates[Qo]*.7+"px",height:45*e.variables.sizeRates[Qo]*.7+"px",float:"left",display:"inline-block",cursor:"pointer","text-align":"center",margin:"2px 2px","border-radius":"5px","box-shadow":"0.25px 0.25px 2px 0.25px "+e.colors.color7[Qo],"background-color":e.colors.color4[Qo],position:"relative"},e.csses.att_link_tooltip_href[Qo]=e.csses.att_link_tooltip_href[Qo]?e.csses.att_link_tooltip_href[Qo]:{cursor:"pointer",float:"left",padding:"0 10px",color:e.colors.color11[Qo],"text-decoration":"underline","font-size":"0.9em","line-height":45*e.variables.sizeRates[Qo]*.8+"px"},e.csses.on_button_on[Qo]=e.csses.on_button_on[Qo]?e.csses.on_button_on[Qo]:{"background-color":e.colors.color5[Qo]+"!important","box-shadow":"0.25px 0.25px 0.25px 0.25px "+e.colors.color7[Qo]},e.csses.on_active[Qo]=e.csses.on_active[Qo]?e.csses.on_active[Qo]:{"background-color":e.colors.color5[Qo]+"!important","box-shadow":"0.25px 0.25px 0.25px 0.25px "+e.colors.color7[Qo]},e.csses.on_mouseover[Qo]=e.csses.on_mouseover[Qo]?e.csses.on_mouseover[Qo]:{"background-color":e.colors.color5[Qo]+"!important"},e.csses.on_mouseout[Qo]=e.csses.on_mouseout[Qo]?e.csses.on_mouseout[Qo]:{"background-color":e.colors.color4[Qo]+"!important"},e.csses.on_display_inline[Qo]=e.csses.on_display_inline[Qo]?e.csses.on_display_inline[Qo]:{display:"inline"},e.csses.on_display_inline_block[Qo]=e.csses.on_display_inline_block[Qo]?e.csses.on_display_inline_block[Qo]:{display:"inline-block"},e.csses.on_display_block[Qo]=e.csses.on_display_block[Qo]?e.csses.on_display_block[Qo]:{display:"block"},e.csses.on_display_none[Qo]=e.csses.on_display_none[Qo]?e.csses.on_display_none[Qo]:{display:"none"},lt=Object.keys(e.csses);for(var el=0;el<lt.length;el++)Zt+=(qt=Qo,$t=lt[el],Xt=e.csses[lt[el]][Qo],"."+Jt(qt,$t)+" {"+ga(Xt)+"}\n");(n=Ko(n,"div",e.consts.KEYS.template.id,e.consts.KEYS.template.className,Qo)).style.display="none",(s=Ho(s,e.variables.noteName+"-textarea",e.consts.KEYS.textarea.id,e.consts.KEYS.textarea.className,Qo)).setAttribute("contenteditable",!0),s.setAttribute("role","textbox"),s.setAttribute("aria-multiline",!0),s.setAttribute("spellcheck",!0),s.setAttribute("autocorrect",!0),s.setAttribute("name",Jt(Qo,e.consts.KEYS.textarea.id)),s.setAttribute("title",e.languageSet[e.variables.languages[Qo]].textareaTooltip),s.addEventListener("click",(function(t){Co("Vanillanote.elementEvents.textarea_onBeforeClick","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onBeforeClick(t)&&(Co("textarea_onClick","params :","(event)",t,"(target)",t.target),wo.textarea_onClick(t),Co("Vanillanote.elementEvents.textarea_onAfterClick","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onAfterClick(t),t.stopImmediatePropagation())})),s.addEventListener("focus",(function(t){Co("Vanillanote.elementEvents.textarea_onBeforeFocus","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onBeforeFocus(t)&&(Co("textarea_onFocus","params :","(event)",t,"(target)",t.target),wo.textarea_onFocus(t),Co("Vanillanote.elementEvents.textarea_onAfterFocus","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onAfterFocus(t),t.stopImmediatePropagation())})),s.addEventListener(e.variables.isIOS?"mouseout":"blur",(function(t){Co("Vanillanote.elementEvents.textarea_onBeforeBlur","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onBeforeBlur(t)&&(Co("textarea_onBlur","params :","(event)",t,"(target)",t.target),wo.textarea_onBlur(t),Co("Vanillanote.elementEvents.textarea_onAfterBlur","params :","(event)",t,"(target)",t.target),e.elementEvents.textarea_onAfterBlur(t),t.stopImmediatePropagation())})),s.addEventListener("keydown",(function(e){Co("textarea_onKeydown","params :","(event)",e,"(target)",e.target),wo.textarea_onKeydown(e),e.stopImmediatePropagation()})),s.addEventListener("keyup",(function(e){Co("textarea_onKeyup","params :","(event)",e,"(target)",e.target),wo.textarea_onKeyup(e),e.stopImmediatePropagation()})),s.addEventListener("beforeinput",(function(e){Co("textarea_onBeforeinput","params :","(event)",e,"(target)",e.target),wo.textarea_onBeforeinput(e),e.stopImmediatePropagation()})),wo.note_observer.observe(s,e.variables.observerOptions),eo(s),i=Ko(i,"div",e.consts.KEYS.tool.id,e.consts.KEYS.tool.className,Qo),r=Do(r,"span",e.consts.KEYS.toolToggleButton.id,e.consts.KEYS.toolToggleButton.className,Qo,{isIcon:!0,text:"arrow_drop_down"}),(c=Mo(c,"span",e.consts.KEYS.paragraphStyleSelect.id,e.consts.KEYS.paragraphStyleSelect.className,Qo,{isIcon:!0,text:"auto_fix_high"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].styleTooltip),d=Go(d,"div",e.consts.KEYS.paragraphStyleSelectBox.id,e.consts.KEYS.paragraphStyleSelectBox.className,Qo),c.appendChild(d),(Pt=Do(Pt,"div",e.consts.KEYS.styleNomal.id,e.consts.KEYS.styleNomal.className,Qo,{isIcon:!1,text:"Normal"})).setAttribute("data-tag-name","p"),d.appendChild(Pt),(Pt=Do(Pt,"h1",e.consts.KEYS.styleHeader1.id,e.consts.KEYS.styleHeader1.className,Qo,{isIcon:!1,text:"Header1"})).setAttribute("data-tag-name","H1"),d.appendChild(Pt),(Pt=Do(Pt,"h2",e.consts.KEYS.styleHeader2.id,e.consts.KEYS.styleHeader2.className,Qo,{isIcon:!1,text:"Header2"})).setAttribute("data-tag-name","H2"),d.appendChild(Pt),(Pt=Do(Pt,"h3",e.consts.KEYS.styleHeader3.id,e.consts.KEYS.styleHeader3.className,Qo,{isIcon:!1,text:"Header3"})).setAttribute("data-tag-name","H3"),d.appendChild(Pt),(Pt=Do(Pt,"h4",e.consts.KEYS.styleHeader4.id,e.consts.KEYS.styleHeader4.className,Qo,{isIcon:!1,text:"Header4"})).setAttribute("data-tag-name","H4"),d.appendChild(Pt),(Pt=Do(Pt,"h5",e.consts.KEYS.styleHeader5.id,e.consts.KEYS.styleHeader5.className,Qo,{isIcon:!1,text:"Header5"})).setAttribute("data-tag-name","H5"),d.appendChild(Pt),(Pt=Do(Pt,"h6",e.consts.KEYS.styleHeader6.id,e.consts.KEYS.styleHeader6.className,Qo,{isIcon:!1,text:"Header6"})).setAttribute("data-tag-name","H6"),d.appendChild(Pt),(u=Do(u,"span",e.consts.KEYS.boldButton.id,e.consts.KEYS.boldButton.className,Qo,{isIcon:!0,text:"format_bold"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].boldTooltip),(p=Do(p,"span",e.consts.KEYS.underlineButton.id,e.consts.KEYS.underlineButton.className,Qo,{isIcon:!0,text:"format_underlined"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].underlineTooltip),(m=Do(m,"span",e.consts.KEYS.italicButton.id,e.consts.KEYS.italicButton.className,Qo,{isIcon:!0,text:"format_italic"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].italicTooltip),(g=Do(m,"span",e.consts.KEYS.ulButton.id,e.consts.KEYS.ulButton.className,Qo,{isIcon:!0,text:"format_list_bulleted"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].ulTooltip),g.setAttribute("data-tag-name","UL"),(f=Do(g,"span",e.consts.KEYS.olButton.id,e.consts.KEYS.olButton.className,Qo,{isIcon:!0,text:"format_list_numbered"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].olTooltip),f.setAttribute("data-tag-name","OL"),(b=Mo(b,"span",e.consts.KEYS.textAlignSelect.id,e.consts.KEYS.textAlignSelect.className,Qo,{isIcon:!0,text:"notes"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].textAlignTooltip),v=Go(v,"div",e.consts.KEYS.textAlignSelectBox.id,e.consts.KEYS.textAlignSelectBox.className,Qo),b.appendChild(v),(Pt=Do(Pt,"span",e.consts.KEYS.textAlignLeft.id,e.consts.KEYS.textAlignLeft.className,Qo,{isIcon:!0,text:"format_align_left"})).setAttribute("data-tag-style","text-align:left;"),v.appendChild(Pt),(Pt=Do(Pt,"span",e.consts.KEYS.textAlignCenter.id,e.consts.KEYS.textAlignCenter.className,Qo,{isIcon:!0,text:"format_align_center"})).setAttribute("data-tag-style","text-align:center;"),v.appendChild(Pt),(Pt=Do(Pt,"span",e.consts.KEYS.textAlignRight.id,e.consts.KEYS.textAlignRight.className,Qo,{isIcon:!0,text:"format_align_right"})).setAttribute("data-tag-style","text-align:right;"),v.appendChild(Pt),(h=Do(h,"span",e.consts.KEYS.attLinkButton.id,e.consts.KEYS.attLinkButton.className,Qo,{isIcon:!0,text:"link"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attLinkTooltip),(x=Do(x,"span",e.consts.KEYS.attFileButton.id,e.consts.KEYS.attFileButton.className,Qo,{isIcon:!0,text:"attach_file"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attFileTooltip),(_=Do(_,"span",e.consts.KEYS.attImageButton.id,e.consts.KEYS.attImageButton.className,Qo,{isIcon:!0,text:"image"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attImageTooltip),(k=Do(k,"span",e.consts.KEYS.attVideoButton.id,e.consts.KEYS.attVideoButton.className,Qo,{isIcon:!0,text:"videocam"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attVideoTooltip),B=Do(B,"span",e.consts.KEYS.fontSizeInputBox.id,e.consts.KEYS.fontSizeInputBox.className,Qo,{isIcon:!0,text:"format_size"}),(T=Po(T,e.consts.KEYS.fontSizeInput.id,e.consts.KEYS.fontSizeInput.className,Qo)).setAttribute("type","number"),T.setAttribute("title",e.languageSet[e.variables.languages[Qo]].fontSizeTooltip),Fo(T,e.consts.KEYS.fontSizeInput.id),B.appendChild(T),S=Do(S,"span",e.consts.KEYS.letterSpacingInputBox.id,e.consts.KEYS.letterSpacingInputBox.className,Qo,{isIcon:!0,text:"swap_horiz"}),(I=Po(I,e.consts.KEYS.letterSpacingInput.id,e.consts.KEYS.letterSpacingInput.className,Qo)).setAttribute("type","number"),I.setAttribute("title",e.languageSet[e.variables.languages[Qo]].letterSpacingTooltip),Fo(I,e.consts.KEYS.letterSpacingInput.id),S.appendChild(I),y=Do(y,"span",e.consts.KEYS.lineHeightInputBox.id,e.consts.KEYS.lineHeightInputBox.className,Qo,{isIcon:!0,text:"height"}),(E=Po(E,e.consts.KEYS.lineHeightInput.id,e.consts.KEYS.lineHeightInput.className,Qo)).setAttribute("type","number"),E.setAttribute("title",e.languageSet[e.variables.languages[Qo]].lineHeightTooltip),Fo(E,e.consts.KEYS.lineHeightInput.id),y.appendChild(E),(A=Mo(A,"span",e.consts.KEYS.fontFamilySelect.id,e.consts.KEYS.fontFamilySelect.className,Qo,{isIcon:!1,text:mt.length>12?mt.substr(0,12)+"...":mt})).setAttribute("style","font-family:"+mt+";"),A.setAttribute("title",e.languageSet[e.variables.languages[Qo]].fontFamilyTooltip),C=Go(C,"div",e.consts.KEYS.fontFamilySelectBox.id,e.consts.KEYS.fontFamilySelectBox.className,Qo),A.appendChild(C);for(var tl=0;tl<dt.length;tl++)(Pt=$o(Pt,"div",e.consts.KEYS.fontFamily.id+tl,e.consts.KEYS.fontFamily.className,Qo,{isIcon:!1,text:dt[tl]})).setAttribute("data-font-family",dt[tl]),Pt.setAttribute("style","font-family:"+dt[tl]+";"),C.appendChild(Pt);var al;for((N=Mo(N,"span",e.consts.KEYS.colorTextSelect.id,e.consts.KEYS.colorTextSelect.className,Qo,{isIcon:!0,text:"format_color_text",iconStyle:"-webkit-text-stroke: 0.5px black; font-size: 1.1em"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].colorTextTooltip),F=Go(F,"div",e.consts.KEYS.colorTextSelectBox.id,e.consts.KEYS.colorTextSelectBox.className,Qo),N.appendChild(F),(Pt=Ko(Pt,"span",e.consts.KEYS.colorTextRExplain.id,e.consts.KEYS.colorTextRExplain.className,Qo,{isIcon:!1,text:"R"})).style.paddingLeft=8*e.variables.sizeRates[Qo]+"px",F.appendChild(Pt),(P=Po(P,e.consts.KEYS.colorTextRInput.id,e.consts.KEYS.colorTextRInput.className,Qo)).setAttribute("maxlength","2"),Fo(P,e.consts.KEYS.colorTextRInput.id),F.appendChild(P),Pt=Ko(Pt,"span",e.consts.KEYS.colorTextGExplain.id,e.consts.KEYS.colorTextGExplain.className,Qo,{isIcon:!1,text:"G"}),F.appendChild(Pt),(W=Po(W,e.consts.KEYS.colorTextGInput.id,e.consts.KEYS.colorTextGInput.className,Qo)).setAttribute("maxlength","2"),Fo(W,e.consts.KEYS.colorTextGInput.id),F.appendChild(W),Pt=Ko(Pt,"span",e.consts.KEYS.colorTextBExplain.id,e.consts.KEYS.colorTextBExplain.className,Qo,{isIcon:!1,text:"B"}),F.appendChild(Pt),(j=Po(j,e.consts.KEYS.colorTextBInput.id,e.consts.KEYS.colorTextBInput.className,Qo)).setAttribute("maxlength","2"),Fo(j,e.consts.KEYS.colorTextBInput.id),F.appendChild(j),Pt=Ko(Pt,"span",e.consts.KEYS.colorTextOpacityExplain.id,e.consts.KEYS.colorTextOpacityExplain.className,Qo,{isIcon:!1,text:"Opacity"}),F.appendChild(Pt),(q=Po(q,e.consts.KEYS.colorTextOpacityInput.id,e.consts.KEYS.colorTextOpacityInput.className,Qo)).setAttribute("type","number"),q.setAttribute("maxlength","3"),Fo(q,e.consts.KEYS.colorTextOpacityInput.id),F.appendChild(q),Pt=document.createElement("br"),F.appendChild(Pt),(O=Ho(O,"div",e.consts.KEYS.colorText0.id,e.consts.KEYS.colorText0.className,Qo)).style.backgroundColor=e.colors.color12[Qo],F.appendChild(O),(Y=Ho(Y,"div",e.consts.KEYS.colorText1.id,e.consts.KEYS.colorText1.className,Qo)).style.backgroundColor=e.colors.color14[Qo],F.appendChild(Y),(U=Ho(U,"div",e.consts.KEYS.colorText2.id,e.consts.KEYS.colorText2.className,Qo)).style.backgroundColor=e.colors.color15[Qo],F.appendChild(U),(z=Ho(z,"div",e.consts.KEYS.colorText3.id,e.consts.KEYS.colorText3.className,Qo)).style.backgroundColor=e.colors.color16[Qo],F.appendChild(z),(H=Ho(H,"div",e.consts.KEYS.colorText4.id,e.consts.KEYS.colorText4.className,Qo)).style.backgroundColor=e.colors.color17[Qo],F.appendChild(H),(M=Ho(M,"div",e.consts.KEYS.colorText5.id,e.consts.KEYS.colorText5.className,Qo)).style.backgroundColor=e.colors.color18[Qo],F.appendChild(M),(G=Ho(G,"div",e.consts.KEYS.colorText6.id,e.consts.KEYS.colorText6.className,Qo)).style.backgroundColor=e.colors.color19[Qo],F.appendChild(G),(D=Ho(D,"div",e.consts.KEYS.colorText7.id,e.consts.KEYS.colorText7.className,Qo)).style.backgroundColor=e.colors.color20[Qo],F.appendChild(D),(L=Mo(L,"span",e.consts.KEYS.colorBackSelect.id,e.consts.KEYS.colorBackSelect.className,Qo,{isIcon:!0,text:"format_color_fill",iconStyle:"font-size: 1.1em; -webkit-text-stroke: 0.5px "+e.colors.color1[Qo]+";"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].colorBackTooltip),$=Go($,"div",e.consts.KEYS.colorBackSelectBox.id,e.consts.KEYS.colorBackSelectBox.className,Qo),L.appendChild($),(Pt=Ko(Pt,"span",e.consts.KEYS.colorBackRExplain.id,e.consts.KEYS.colorBackRExplain.className,Qo,{isIcon:!1,text:"R"})).style.paddingLeft=8*e.variables.sizeRates[Qo]+"px",$.appendChild(Pt),(le=Po(le,e.consts.KEYS.colorBackRInput.id,e.consts.KEYS.colorBackRInput.className,Qo)).setAttribute("maxlength","2"),Fo(le,e.consts.KEYS.colorBackRInput.id),$.appendChild(le),Pt=Ko(Pt,"span",e.consts.KEYS.colorBackGExplain.id,e.consts.KEYS.colorBackGExplain.className,Qo,{isIcon:!1,text:"G"}),$.appendChild(Pt),(ne=Po(ne,e.consts.KEYS.colorBackGInput.id,e.consts.KEYS.colorBackGInput.className,Qo)).setAttribute("maxlength","2"),Fo(ne,e.consts.KEYS.colorBackGInput.id),$.appendChild(ne),Pt=Ko(Pt,"span",e.consts.KEYS.colorBackBExplain.id,e.consts.KEYS.colorBackBExplain.className,Qo,{isIcon:!1,text:"B"}),$.appendChild(Pt),(ie=Po(ie,e.consts.KEYS.colorBackBInput.id,e.consts.KEYS.colorBackBInput.className,Qo)).setAttribute("maxlength","2"),Fo(ie,e.consts.KEYS.colorBackBInput.id),$.appendChild(ie),Pt=Ko(Pt,"span",e.consts.KEYS.colorBackOpacityExplain.id,e.consts.KEYS.colorBackOpacityExplain.className,Qo,{isIcon:!1,text:"Opacity"}),$.appendChild(Pt),(se=Po(se,e.consts.KEYS.colorBackOpacityInput.id,e.consts.KEYS.colorBackOpacityInput.className,Qo)).setAttribute("type","number"),se.setAttribute("maxlength","3"),Fo(se,e.consts.KEYS.colorBackOpacityInput.id),$.appendChild(se),Pt=document.createElement("br"),$.appendChild(Pt),(X=Ho(X,"div",e.consts.KEYS.colorBack0.id,e.consts.KEYS.colorBack0.className,Qo)).style.backgroundColor=e.colors.color13[Qo],$.appendChild(X),(Q=Ho(Q,"div",e.consts.KEYS.colorBack1.id,e.consts.KEYS.colorBack1.className,Qo)).style.backgroundColor=e.colors.color14[Qo],$.appendChild(Q),(Z=Ho(Z,"div",e.consts.KEYS.colorBack2.id,e.consts.KEYS.colorBack2.className,Qo)).style.backgroundColor=e.colors.color15[Qo],$.appendChild(Z),(J=Ho(J,"div",e.consts.KEYS.colorBack3.id,e.consts.KEYS.colorBack3.className,Qo)).style.backgroundColor=e.colors.color16[Qo],$.appendChild(J),(ee=Ho(ee,"div",e.consts.KEYS.colorBack4.id,e.consts.KEYS.colorBack4.className,Qo)).style.backgroundColor=e.colors.color17[Qo],$.appendChild(ee),(te=Ho(te,"div",e.consts.KEYS.colorBack5.id,e.consts.KEYS.colorBack5.className,Qo)).style.backgroundColor=e.colors.color18[Qo],$.appendChild(te),(ae=Ho(ae,"div",e.consts.KEYS.colorBack6.id,e.consts.KEYS.colorBack6.className,Qo)).style.backgroundColor=e.colors.color19[Qo],$.appendChild(ae),(oe=Ho(oe,"div",e.consts.KEYS.colorBack7.id,e.consts.KEYS.colorBack7.className,Qo)).style.backgroundColor=e.colors.color20[Qo],$.appendChild(oe),(K=Do(K,"span",e.consts.KEYS.formatClearButton.id,e.consts.KEYS.formatClearButton.className,Qo,{isIcon:!0,text:"format_clear"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].formatClearButtonTooltip),(R=Do(R,"span",e.consts.KEYS.undoButton.id,e.consts.KEYS.undoButton.className,Qo,{isIcon:!0,text:"undo"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].undoTooltip),(V=Do(V,"span",e.consts.KEYS.redoButton.id,e.consts.KEYS.redoButton.className,Qo,{isIcon:!0,text:"redo"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].redoTooltip),(w=Do(w,"span",e.consts.KEYS.helpButton.id,e.consts.KEYS.helpButton.className,Qo,{isIcon:!0,text:"help"})).setAttribute("title",e.languageSet[e.variables.languages[Qo]].helpTooltip),re=Ho(re,"div",e.consts.KEYS.modalBack.id,e.consts.KEYS.modalBack.className,Qo),ce=Ho(ce,"div",e.consts.KEYS.attLinkModal.id,e.consts.KEYS.attLinkModal.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.attLinkHeader.id,e.consts.KEYS.attLinkHeader.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attLinkModalTitle}),ce.appendChild(Pt),Pt=Ko(Pt,"div",e.consts.KEYS.attLinkExplain1.id,e.consts.KEYS.attLinkExplain1.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attLinkInTextExplain}),ce.appendChild(Pt),(he=Po(he,e.consts.KEYS.attLinkText.id,e.consts.KEYS.attLinkText.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attLinkInTextTooltip),ce.appendChild(he),Pt=Ko(Pt,"div",e.consts.KEYS.attLinkExplain2.id,e.consts.KEYS.attLinkExplain2.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attLinkInLinkExplain}),ce.appendChild(Pt),(xe=Po(xe,e.consts.KEYS.attLinkHref.id,e.consts.KEYS.attLinkHref.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attLinkInLinkTooltip),ce.appendChild(xe),(_e=Wo(_e,e.consts.KEYS.attLinkIsBlankCheckbox.id,e.consts.KEYS.attLinkIsBlankCheckbox.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attLinkIsOpenTooltip),(Pt=Ko(Pt,"label",e.consts.KEYS.attLinkIsBlankLabel.id,e.consts.KEYS.attLinkIsBlankLabel.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attLinkIsOpenExplain})).insertBefore(_e,Pt.firstChild),ce.appendChild(Pt),ke=Ko(ke,"span",e.consts.KEYS.attLinkValidCheckText.id,e.consts.KEYS.attLinkValidCheckText.className,Qo),(Be=Wo(_e,e.consts.KEYS.attLinkValidCheckbox.id,e.consts.KEYS.attLinkValidCheckbox.className,Qo)).style.display="none",Pt=Ko(Pt,"div",e.consts.KEYS.attLinkFooter.id,e.consts.KEYS.attLinkFooter.className,Qo),Te=Do(Te,"button",e.consts.KEYS.attLinkInsertButton.id,e.consts.KEYS.attLinkInsertButton.className,Qo,{isIcon:!0,text:"add_link"}),Pt.appendChild(ke),Pt.appendChild(Be),Pt.appendChild(Te),ce.appendChild(Pt),de=Ho(de,"div",e.consts.KEYS.attFileModal.id,e.consts.KEYS.attFileModal.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.attFileHeader.id,e.consts.KEYS.attFileHeader.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attFileModalTitle}),de.appendChild(Pt),Se=Ko(Se,"div",e.consts.KEYS.attFilelayout.id,e.consts.KEYS.attFilelayout.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.attFileExplain1.id,e.consts.KEYS.attFileExplain1.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attFileExplain1}),Se.appendChild(Pt),Pt=document.createElement("br"),Se.appendChild(Pt),(Pt=document.createElement("div")).setAttribute("style","width:90%;text-align:center;margin:0 auto;"),(ye=Do(ye,"div",e.consts.KEYS.attFileUploadDiv.id,e.consts.KEYS.attFileUploadDiv.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attFileUploadDiv})).addEventListener("dragover",(function(t){Co("Vanillanote.elementEvents.attFileUploadDiv_onBeforeDragover","params :","(event)",t,"(target)",t.target),e.elementEvents.attFileUploadDiv_onBeforeDragover(t)&&(Co("attFileUploadDiv_onDragover","params :","(event)",t,"(target)",t.target),wo.attFileUploadDiv_onDragover(t),Co("Vanillanote.elementEvents.attFileUploadDiv_onAfterDragover","params :","(event)",t,"(target)",t.target),e.elementEvents.attFileUploadDiv_onAfterDragover(t),t.stopImmediatePropagation())})),ye.addEventListener("drop",(function(t){Co("Vanillanote.elementEvents.attFileUploadDiv_onBeforeDrop","params :","(event)",t,"(target)",t.target),e.elementEvents.attFileUploadDiv_onBeforeDrop(t)&&(Co("attFileUploadDiv_onDrop","params :","(event)",t,"(target)",t.target),wo.attFileUploadDiv_onDrop(t),Co("Vanillanote.elementEvents.attFileUploadDiv_onAfterDrop","params :","(event)",t,"(target)",t.target),e.elementEvents.attFileUploadDiv_onAfterDrop(t),t.stopImmediatePropagation())})),Pt.appendChild(ye),Se.appendChild(Pt),(Pt=document.createElement("div")).setAttribute("style","width:90%;text-align:right;margin:5px auto 20px auto;"),Ie=Do(Ie,"button",e.consts.KEYS.attFileUploadButton.id,e.consts.KEYS.attFileUploadButton.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attFileUploadButton}),Pt.appendChild(Ie),Se.appendChild(Pt),(Ee=Po(Ee,e.consts.KEYS.attFileUpload.id,e.consts.KEYS.attFileUpload.className,Qo)).setAttribute("type","file"),Ee.setAttribute("multiple",""),Se.appendChild(Pt),Se.appendChild(Ee),de.appendChild(Se),Pt=Ko(Pt,"div",e.consts.KEYS.attFileFooter.id,e.consts.KEYS.attFileFooter.className,Qo),Ae=Do(Ae,"button",e.consts.KEYS.attFileInsertButton.id,e.consts.KEYS.attFileInsertButton.className,Qo,{isIcon:!0,text:"attach_file"}),Pt.appendChild(Ae),de.appendChild(Pt),ue=Ho(ue,"div",e.consts.KEYS.attImageModal.id,e.consts.KEYS.attImageModal.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.attImageHeader.id,e.consts.KEYS.attImageHeader.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attImageModalTitle}),ue.appendChild(Pt),Pt=Ko(Pt,"div",e.consts.KEYS.attImageExplain1.id,e.consts.KEYS.attImageExplain1.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attImageExplain1}),ue.appendChild(Pt),Pt=document.createElement("br"),ue.appendChild(Pt),(Pt=document.createElement("div")).setAttribute("style","width:90%;text-align:center;margin:0 auto;position:relative;"),(Ne=Do(we,"button",e.consts.KEYS.attImageViewPreButtion.id,e.consts.KEYS.attImageViewPreButtion.className,Qo,{isIcon:!0,text:"navigate_before"})).setAttribute("style","position:absolute;top:50%;transform:translateY(-50%) translateX(1%);"),Pt.appendChild(Ne),(Ce=Ho(Ce,"div",e.consts.KEYS.attImageUploadButtonAndView.id,e.consts.KEYS.attImageUploadButtonAndView.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attImageUploadButtonAndView})).addEventListener("dragover",(function(t){Co("Vanillanote.elementEvents.attImageUploadButtonAndView_onBeforeDragover","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageUploadButtonAndView_onBeforeDragover(t)&&(Co("attImageUploadButtonAndView_onDragover","params :","(event)",t,"(target)",t.target),wo.attImageUploadButtonAndView_onDragover(t),Co("Vanillanote.elementEvents.attImageUploadButtonAndView_onAfterDragover","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageUploadButtonAndView_onAfterDragover(t),t.stopImmediatePropagation())})),Ce.addEventListener("drop",(function(t){Co("Vanillanote.elementEvents.attImageUploadButtonAndView_onBeforeDrop","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageUploadButtonAndView_onBeforeDrop(t)&&(Co("attImageUploadButtonAndView_onDrop","params :","(event)",t,"(target)",t.target),wo.attImageUploadButtonAndView_onDrop(t),Co("Vanillanote.elementEvents.attImageUploadButtonAndView_onAfterDrop","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageUploadButtonAndView_onAfterDrop(t),t.stopImmediatePropagation())})),Pt.appendChild(Ce),(Le=Do(we,"button",e.consts.KEYS.attImageViewNextButtion.id,e.consts.KEYS.attImageViewNextButtion.className,Qo,{isIcon:!0,text:"navigate_next"})).setAttribute("style","position:absolute;top:50%;transform:translateY(-50%) translateX(-101%);"),Pt.appendChild(Le),ue.appendChild(Pt),(Re=Po(Re,e.consts.KEYS.attImageUpload.id,e.consts.KEYS.attImageUpload.className,Qo)).setAttribute("type","file"),Re.setAttribute("multiple",""),kt=pa(e.variables.attImageAcceptTypes[Qo]),Re.setAttribute("accept",kt),ue.appendChild(Re),Pt=Ko(Pt,"div",e.consts.KEYS.attImageExplain2.id,e.consts.KEYS.attImageExplain2.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attImageExplain2}),ue.appendChild(Pt),Pt=document.createElement("br"),ue.appendChild(Pt),(Ve=Po(xe,e.consts.KEYS.attImageURL.id,e.consts.KEYS.attImageURL.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attImageURLTooltip),ue.appendChild(Ve),Pt=Ko(Pt,"div",e.consts.KEYS.attImageFooter.id,e.consts.KEYS.attImageFooter.className,Qo),we=Do(we,"button",e.consts.KEYS.attImageInsertButton.id,e.consts.KEYS.attImageInsertButton.className,Qo,{isIcon:!0,text:"image"}),Pt.appendChild(we),ue.appendChild(Pt),pe=Ho(pe,"div",e.consts.KEYS.attVideoModal.id,e.consts.KEYS.attVideoModal.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.attVideoHeader.id,e.consts.KEYS.attVideoHeader.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attVideoModalTitle}),pe.appendChild(Pt),Pt=Ko(Pt,"div",e.consts.KEYS.attVideoExplain1.id,e.consts.KEYS.attVideoExplain1.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attVideoExplain1}),pe.appendChild(Pt),(Ue=Po(Ue,e.consts.KEYS.attVideoEmbedId.id,e.consts.KEYS.attVideoEmbedId.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attVideoEmbedIdTooltip),pe.appendChild(Ue),Pt=Ko(Pt,"div",e.consts.KEYS.attVideoExplain2.id,e.consts.KEYS.attVideoExplain2.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].attVideoExplain2}),pe.appendChild(Pt),(Pt=document.createElement("div")).setAttribute("style","padding-left:20px;color:"+e.colors.color10[Qo]),Wt=Ko(Wt,"span","","modal_att_video_icon",Qo,{isIcon:!0,text:"width",iconStyle:"color:"+e.colors.color10[Qo]}),Pt.appendChild(Wt),(ze=Po(ze,e.consts.KEYS.attVideoWidth.id,e.consts.KEYS.attVideoWidth.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attVideoWidthTooltip),ze.setAttribute("type","number"),ze.setAttribute("style","text-align:right;"),Pt.appendChild(ze),(Wt=Ko(Wt,"span","","modal_att_video_icon",Qo,{isIcon:!1,text:"%"})).setAttribute("style","padding-left:10px;font-size:0.8em"),Pt.appendChild(Wt),pe.appendChild(Pt),(Pt=document.createElement("div")).setAttribute("style","padding-left:20px;color:"+e.colors.color10[Qo]),Wt=Ko(Wt,"span","","modal_att_video_icon",Qo,{isIcon:!0,text:"height",iconStyle:"color:"+e.colors.color10[Qo]}),Pt.appendChild(Wt),(He=Po(He,e.consts.KEYS.attVideoHeight.id,e.consts.KEYS.attVideoHeight.className,Qo)).setAttribute("title",e.languageSet[e.variables.languages[Qo]].attVideoHeightTooltip),He.setAttribute("type","number"),He.setAttribute("style","text-align:right;"),Pt.appendChild(He),(Wt=Ko(Wt,"span","","modal_att_video_icon",Qo,{isIcon:!1,text:"px"})).setAttribute("style","padding-left:10px;font-size:0.8em"),Pt.appendChild(Wt),pe.appendChild(Pt),Pt=Ko(Pt,"div",e.consts.KEYS.attVideoFooter.id,e.consts.KEYS.attVideoFooter.className,Qo),Me=Ko(Me,"span",e.consts.KEYS.attVideoValidCheckText.id,e.consts.KEYS.attVideoValidCheckText.className,Qo),(Ge=Wo(Ge,e.consts.KEYS.attVideoValidCheckbox.id,e.consts.KEYS.attVideoValidCheckbox.className,Qo)).style.display="none",Pt=Ko(Pt,"div",e.consts.KEYS.attVideoFooter.id,e.consts.KEYS.attVideoFooter.className,Qo),De=Do(De,"button",e.consts.KEYS.attVideoInsertButton.id,e.consts.KEYS.attVideoInsertButton.className,Qo,{isIcon:!0,text:"videocam"}),Pt.appendChild(Me),Pt.appendChild(Ge),Pt.appendChild(De),pe.appendChild(Pt),Ke=Ko(Ke,"div",e.consts.KEYS.attLinkTooltip.id,e.consts.KEYS.attLinkTooltip.className,Qo),(Fe=Ko(Fe,"a",e.consts.KEYS.attLinkTooltipHref.id,e.consts.KEYS.attLinkTooltipHref.className,Qo)).setAttribute("target","_blank"),Oe=Do(Oe,"span",e.consts.KEYS.attLinkTooltipEditButton.id,e.consts.KEYS.attLinkTooltipEditButton.className,Qo,{isIcon:!0,text:"add_link",iconStyle:"font-size:0.9em"}),Ye=Do(Ye,"span",e.consts.KEYS.attLinkTooltipUnlinkButton.id,e.consts.KEYS.attLinkTooltipUnlinkButton.className,Qo,{isIcon:!0,text:"link_off",iconStyle:"font-size:0.9em"}),Ke.appendChild(Oe),Ke.appendChild(Ye),Ke.appendChild(Fe),Pe=Ko(Pe,"div",e.consts.KEYS.attImageAndVideoTooltip.id,e.consts.KEYS.attImageAndVideoTooltip.className,Qo),Pt=document.createElement("div"),(Wt=document.createElement("span")).setAttribute("class",ea(Qo,"small_text_box")),Wt.setAttribute("style","padding: 0 0 0 10px;"),Wt.textContent=e.languageSet[e.variables.languages[Qo]].attImageAndVideoTooltipWidthInput,Pt.appendChild(Wt),(We=Po(We,e.consts.KEYS.attImageAndVideoTooltipWidthInput.id,e.consts.KEYS.attImageAndVideoTooltipWidthInput.className,Qo)).addEventListener("keyup",(function(t){Co("Vanillanote.elementEvents.attImageAndVideoTooltipWidthInput_onBeforeKeyup","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageAndVideoTooltipWidthInput_onBeforeKeyup(t)&&(Co("attImageAndVideoTooltipWidthInput_onKeyup","params :","(event)",t,"(target)",t.target),wo.attImageAndVideoTooltipWidthInput_onKeyup(t),Co("Vanillanote.elementEvents.attImageAndVideoTooltipWidthInput_onAfterKeyup","params :","(event)",t,"(target)",t.target),e.elementEvents.attImageAndVideoTooltipWidthInput_onAfterKeyup(t),t.stopImmediatePropagation())})),We.setAttribute("type","number"),Pt.appendChild(We),(Wt=document.createElement("span")).setAttribute("class",ea(Qo,"small_text_box")),Wt.setAttribute("style","padding: 0;"),Wt.textContent="%",Pt.appendChild(Wt),(Wt=document.createElement("span")).setAttribute("class",ea(Qo,"small_text_box")),Wt.textContent=e.languageSet[e.variables.languages[Qo]].attImageAndVideoTooltipFloatRadio,Pt.appendChild(Wt),je=jo(je,e.consts.KEYS.attImageAndVideoTooltipFloatRadioNone.id,e.consts.KEYS.attImageAndVideoTooltipFloatRadioNone.className,Jt(Qo,"attImageAndVideoTooltipFloatRadio"),Qo),Pt.appendChild(je),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipFloatRadioNone.id),"close"),Pt.appendChild(Wt),qe=jo(qe,e.consts.KEYS.attImageAndVideoTooltipFloatRadioLeft.id,e.consts.KEYS.attImageAndVideoTooltipFloatRadioLeft.className,Jt(Qo,"attImageAndVideoTooltipFloatRadio"),Qo),Pt.appendChild(qe),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipFloatRadioLeft.id),"art_track"),Pt.appendChild(Wt),$e=jo($e,e.consts.KEYS.attImageAndVideoTooltipFloatRadioRight.id,e.consts.KEYS.attImageAndVideoTooltipFloatRadioRight.className,Jt(Qo,"attImageAndVideoTooltipFloatRadio"),Qo),Pt.appendChild($e),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipFloatRadioRight.id),"burst_mode"),Pt.appendChild(Wt),Pe.appendChild(Pt),Pt=document.createElement("div"),(Wt=document.createElement("span")).setAttribute("class",ea(Qo,"small_text_box")),Wt.textContent=e.languageSet[e.variables.languages[Qo]].attImageAndVideoTooltipShapeRadio,Pt.appendChild(Wt),Xe=jo(Xe,e.consts.KEYS.attImageAndVideoTooltipShapeRadioSquare.id,e.consts.KEYS.attImageAndVideoTooltipShapeRadioSquare.className,Jt(Qo,"attImageAndVideoTooltipShapeRadio"),Qo),Pt.appendChild(Xe),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipShapeRadioSquare.id),"crop_5_4"),Pt.appendChild(Wt),Qe=jo(Qe,e.consts.KEYS.attImageAndVideoTooltipShapeRadioRadius.id,e.consts.KEYS.attImageAndVideoTooltipShapeRadioRadius.className,Jt(Qo,"attImageAndVideoTooltipShapeRadio"),Qo),Pt.appendChild(Qe),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipShapeRadioRadius.id),"aspect_ratio"),Pt.appendChild(Wt),Ze=jo(Ze,e.consts.KEYS.attImageAndVideoTooltipShapeRadioCircle.id,e.consts.KEYS.attImageAndVideoTooltipShapeRadioCircle.className,Jt(Qo,"attImageAndVideoTooltipShapeRadio"),Qo),Pt.appendChild(Ze),Wt=qo(Jt(Qo,e.consts.KEYS.attImageAndVideoTooltipShapeRadioCircle.id),"circle"),Pt.appendChild(Wt),Pe.appendChild(Pt),me=Ho(me,"div",e.consts.KEYS.helpModal.id,e.consts.KEYS.helpModal.className,Qo),Pt=Ko(Pt,"div",e.consts.KEYS.helpHeader.id,e.consts.KEYS.helpHeader.className,Qo,{isIcon:!1,text:e.languageSet[e.variables.languages[Qo]].helpModalTitle}),me.appendChild(Pt),ge=Ko(ge,"div",e.consts.KEYS.helpMain.id,e.consts.KEYS.helpMain.className,Qo),Pt=document.createElement("table"),el=0;el<e.languageSet[e.variables.languages[Qo]].helpContent.length;el++){Wt=document.createElement("tr"),al=Object.keys(e.languageSet[e.variables.languages[Qo]].helpContent[el]);for(var ol=0;ol<al.length;ol++)(jt=document.createElement("td")).textContent=al[ol],jt.setAttribute("style","width:30%;padding:0 0 6px 12px;border:none;"),Wt.appendChild(jt),(jt=document.createElement("td")).setAttribute("style","width:70%;padding:0 12px 6px 12px;border:none;"),jt.textContent=e.languageSet[e.variables.languages[Qo]].helpContent[el][al[ol]],Wt.appendChild(jt);Pt.appendChild(Wt)}ge.appendChild(Pt),me.appendChild(ge),(Pt=Ko(Pt,"div",e.consts.KEYS.helpFooter.id,e.consts.KEYS.helpFooter.className,Qo)).setAttribute("style","height:25px;"),me.appendChild(Pt),e.elements.placeholders[Qo]?fe=e.elements.placeholders[Qo]:(fe=Ho(fe,"div",e.consts.KEYS.placeholder.id,e.consts.KEYS.placeholder.className,Qo),Bt&&((Pt=document.createElement("h5")).innerText=Bt,fe.appendChild(Pt)),Tt&&((Pt=document.createElement("p")).innerText=Tt,fe.appendChild(Pt)),e.elements.placeholders[Qo]=fe),re.appendChild(ce),re.appendChild(de),re.appendChild(ue),re.appendChild(pe),re.appendChild(me),n.appendChild(re),n.appendChild(fe),e.variables.toolToggles[Qo]&&i.appendChild(r),i.appendChild(c),i.appendChild(u),i.appendChild(p),i.appendChild(m),i.appendChild(g),i.appendChild(f),i.appendChild(b),i.appendChild(h),i.appendChild(x),i.appendChild(_),i.appendChild(k),i.appendChild(B),i.appendChild(S),i.appendChild(y),i.appendChild(A),i.appendChild(N),i.appendChild(L),i.appendChild(K),i.appendChild(R),i.appendChild(V),i.appendChild(w),"BOTTOM"===e.variables.toolPositions[Qo]?(n.appendChild(s),n.appendChild(Ke),n.appendChild(Pe),n.appendChild(i)):(n.appendChild(i),n.appendChild(Ke),n.appendChild(Pe),n.appendChild(s)),l.appendChild(n),e.elements.templates.push(n),e.elements.tools.push(i),e.elements.textareas.push(s),e.elements.paragraphStyleSelects.push(c),e.elements.toolToggleButtons.push(r),e.elements.paragraphStyleSelectBoxes.push(d),e.elements.boldButtons.push(u),e.elements.underlineButtons.push(p),e.elements.italicButtons.push(m),e.elements.ulButtons.push(g),e.elements.olButtons.push(f),e.elements.textAlignSelects.push(b),e.elements.textAlignSelectBoxes.push(v),e.elements.attLinkButtons.push(h),e.elements.attFileButtons.push(x),e.elements.attImageButtons.push(_),e.elements.attVideoButtons.push(k),e.elements.fontFamilySelects.push(A),e.elements.fontFamilySelectBoxes.push(C),e.elements.colorTextSelects.push(N),e.elements.colorTextSelectBoxes.push(F),e.elements.colorText0s.push(O),e.elements.colorText1s.push(Y),e.elements.colorText2s.push(U),e.elements.colorText3s.push(z),e.elements.colorText4s.push(H),e.elements.colorText5s.push(M),e.elements.colorText6s.push(G),e.elements.colorText7s.push(D),e.elements.colorTextRInputs.push(P),e.elements.colorTextGInputs.push(W),e.elements.colorTextBInputs.push(j),e.elements.colorTextOpacityInputs.push(q),e.elements.colorBackSelects.push(L),e.elements.colorBackSelectBoxes.push($),e.elements.colorBack0s.push(X),e.elements.colorBack1s.push(Q),e.elements.colorBack2s.push(Z),e.elements.colorBack3s.push(J),e.elements.colorBack4s.push(ee),e.elements.colorBack5s.push(te),e.elements.colorBack6s.push(ae),e.elements.colorBack7s.push(oe),e.elements.colorBackRInputs.push(le),e.elements.colorBackGInputs.push(ne),e.elements.colorBackBInputs.push(ie),e.elements.colorBackOpacityInputs.push(se),e.elements.formatClearButtons.push(K),e.elements.undoButtons.push(R),e.elements.redoButtons.push(V),e.elements.helpButtons.push(w),e.elements.fontSizeInputBoxes.push(B),e.elements.fontSizeInputs.push(T),e.elements.letterSpacingInputBoxes.push(S),e.elements.letterSpacingInputs.push(I),e.elements.lineHeightInputBoxes.push(y),e.elements.lineHeightInputs.push(E),e.elements.backModals.push(re),e.elements.attLinkModals.push(ce),e.elements.attLinkTexts.push(he),e.elements.attLinkHrefs.push(xe),e.elements.attLinkIsBlankCheckboxes.push(_e),e.elements.attLinkValidCheckTexts.push(ke),e.elements.attLinkValidCheckboxes.push(Be),e.elements.attLinkInsertButtons.push(Te),e.elements.attLinkTooltips.push(Ke),e.elements.attLinkTooltipHrefs.push(Fe),e.elements.attLinkTooltipEditButtons.push(Oe),e.elements.attLinkTooltipUnlinkButtons.push(Ye),e.elements.attFileModals.push(de),e.elements.attFilelayouts.push(Se),e.elements.attFileUploadButtons.push(Ie),e.elements.attFileUploads.push(Ee),e.elements.attFileUploadDivs.push(ye),e.elements.attFileInsertButtons.push(Ae),e.elements.attImageModals.push(ue),e.elements.attImageUploadButtonAndViews.push(Ce),e.elements.attImageViewPreButtions.push(Ne),e.elements.attImageViewNextButtions.push(Le),e.elements.attImageUploads.push(Re),e.elements.attImageURLs.push(Ve),e.elements.attImageInsertButtons.push(we),e.elements.attVideoModals.push(pe),e.elements.attVideoEmbedIds.push(Ue),e.elements.attVideoWidthes.push(ze),e.elements.attVideoHeights.push(He),e.elements.attVideoValidCheckTexts.push(Me),e.elements.attVideoValidCheckboxes.push(Ge),e.elements.attVideoInsertButtons.push(De),e.elements.attImageAndVideoTooltips.push(Pe),e.elements.attImageAndVideoTooltipWidthInputs.push(We),e.elements.attImageAndVideoTooltipFloatRadioNones.push(je),e.elements.attImageAndVideoTooltipFloatRadioLefts.push(qe),e.elements.attImageAndVideoTooltipFloatRadioRights.push($e),e.elements.attImageAndVideoTooltipShapeRadioSquares.push(Xe),e.elements.attImageAndVideoTooltipShapeRadioRadiuses.push(Qe),e.elements.attImageAndVideoTooltipShapeRadioCircles.push(Ze),e.elements.helpModals.push(me),e.variables.useMobileActiveMode.push(ia()),e.variables.boldToggles.push(!1),e.variables.underlineToggles.push(!1),e.variables.italicToggles.push(!1),e.variables.ulToggles.push(!1),e.variables.olToggles.push(!1),e.variables.fontSizes.push(rt),e.variables.letterSpacings.push("0"),e.variables.lineHeights.push(ct),e.variables.fontFamilies.push(mt),e.variables.colorTextRs.push(xa(e.colors.color12[Qo],"R")),e.variables.colorTextGs.push(xa(e.colors.color12[Qo],"G")),e.variables.colorTextBs.push(xa(e.colors.color12[Qo],"B")),e.variables.colorTextOs.push("1"),e.variables.colorTextRGBs.push(e.colors.color12[Qo]),e.variables.colorTextOpacitys.push("1"),e.variables.colorBackRs.push(xa(e.colors.color13[Qo],"R")),e.variables.colorBackGs.push(xa(e.colors.color13[Qo],"G")),e.variables.colorBackBs.push(xa(e.colors.color13[Qo],"B")),e.variables.colorBackOs.push("0"),e.variables.colorBackRGBs.push(e.colors.color13[Qo]),e.variables.colorBackOpacitys.push("0"),e.variables.attTempFiles.push(new Object),e.variables.attFiles.push(new Object),e.variables.attTempImages.push(new Object),e.variables.attImages.push(new Object),e.variables.editDragUnitElements.push([]),e.variables.recodeContings.push(-1),e.variables.recodeNotes.push([]),e.elements.fontSizeInputs[Qo].value=rt,e.elements.letterSpacingInputs[Qo].value="0",e.elements.lineHeightInputs[Qo].value=ct,e.elements.colorTextRInputs[Qo].value=e.variables.colorTextRs[Qo],e.elements.colorTextGInputs[Qo].value=e.variables.colorTextGs[Qo],e.elements.colorTextBInputs[Qo].value=e.variables.colorTextBs[Qo],e.elements.colorTextOpacityInputs[Qo].value=e.variables.colorTextOs[Qo],e.elements.colorBackRInputs[Qo].value=e.variables.colorBackRs[Qo],e.elements.colorBackGInputs[Qo].value=e.variables.colorBackGs[Qo],e.elements.colorBackBInputs[Qo].value=e.variables.colorBackBs[Qo],e.elements.colorBackOpacityInputs[Qo].value=e.variables.colorBackOs[Qo],St||(e.elements.paragraphStyleSelects[Qo].style.display="none"),It||(e.elements.boldButtons[Qo].style.display="none"),yt||(e.elements.underlineButtons[Qo].style.display="none"),Et||(e.elements.italicButtons[Qo].style.display="none"),At||(e.elements.ulButtons[Qo].style.display="none"),Ct||(e.elements.olButtons[Qo].style.display="none"),Nt||(e.elements.textAlignSelects[Qo].style.display="none"),Lt||(e.elements.attLinkButtons[Qo].style.display="none"),Rt||(e.elements.attFileButtons[Qo].style.display="none"),Vt||(e.elements.attImageButtons[Qo].style.display="none"),wt||(e.elements.attVideoButtons[Qo].style.display="none"),Kt||(e.elements.fontSizeInputBoxes[Qo].style.display="none"),Ft||(e.elements.letterSpacingInputBoxes[Qo].style.display="none"),Ot||(e.elements.lineHeightInputBoxes[Qo].style.display="none"),Yt||(e.elements.fontFamilySelects[Qo].style.display="none"),Ut||(e.elements.colorTextSelects[Qo].style.display="none"),zt||(e.elements.colorBackSelects[Qo].style.display="none"),Ht||(e.elements.formatClearButtons[Qo].style.display="none"),Mt||(e.elements.undoButtons[Qo].style.display="none"),Gt||(e.elements.redoButtons[Qo].style.display="none"),Dt||(e.elements.helpButtons[Qo].style.display="none")}(ot=document.createElement("style")).setAttribute("id",e.variables.noteName+"_styles-sheet"),ot.type="text/css",ot.styleSheet?ot.styleSheet.cssText=Zt:ot.appendChild(document.createTextNode(Zt)),(nt=document.createElement("link")).setAttribute("id",e.variables.noteName+"_icons-link"),nt.setAttribute("rel","stylesheet"),nt.setAttribute("href","https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"),(Je=document.getElementsByTagName("head")[0]).appendChild(nt),Je.appendChild(ot),setTimeout((function(){for(var t=0;t<e.elements.templates.length;t++)e.elements.templates[t].removeAttribute("style");wo.window_onResize(event)}),e.variables.loadInterval),e.variables.isCreated=!0}function ll(e,t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);return a}}function i(e){if(e.variables.isCreated){document.getElementById(e.variables.noteName+"_styles-sheet").remove(),document.getElementById(e.variables.noteName+"_icons-link").remove(),document.removeEventListener("selectionchange",e.eventStore.selectionchange),document.removeEventListener("keydown",e.eventStore.keydown),window.removeEventListener("resize",e.eventStore.resize),window.visualViewport&&window.visualViewport.removeEventListener("resize",e.eventStore.resizeViewport);for(var t=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},a=document.querySelectorAll("[data-vanillanote]"),o=0;o<a.length;o++)t(a[o]);e=null}}return e.r(t),e.d(t,{getVanillanote:()=>l,vanillanote_onCreate:()=>n,vanillanote_onDestroy:()=>i}),t})()));